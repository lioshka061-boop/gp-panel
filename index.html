<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c3{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c2{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c3 doc-content"><p class="c0"><span class="c1">&lt;!-- GP:M0 START &bull; THEME + LAYOUT (build 2025-10-29.1) --&gt;</span></p><p class="c0"><span class="c1">&lt;div id=&quot;gp-panel&quot; data-mode=&quot;auto&quot; data-theme=&quot;light&quot; data-env=&quot;local&quot; aria-label=&quot;Zero-to-Bot Panel&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- GP:BEGIN THEME --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* ===== Scope only inside #gp-panel ===== */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel, #gp-panel * { box-sizing: border-box; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* ===== Design tokens (Light) ===== */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --bg:#ffffff; --text:#0f172a; --muted:#667085; --line:#e7eaf3;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --chip:#f6f7ff; --accent:#2563eb;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --grad1:#464eeb; --grad2:#5596fe; /* &#1079; &#1090;&#1074;&#1086;&#1108;&#1111; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1080; */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --active-bg:#eaf2ff; --active-border:#9ec5ff;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --success:#16a34a; --warn:#f59e0b; --error:#ef4444;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; color: var(--text); background: var(--bg);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; border:1px solid var(--line); border-radius:16px; padding:12px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* ===== Dark theme tokens ===== */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel[data-theme=&quot;dark&quot;]{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --bg:#0b1220; --text:#e5edff; --muted:#a3b1c6; --line:#1e293b; --chip:#111a2e;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --active-bg:#0f1f3c; --active-border:#264d9a;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; --accent:#79a6ff;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* Page background sync for dark */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; body.gp-dark { background:#0b1220; color-scheme: dark; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* ===== UI atoms ===== */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .btn{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; cursor:pointer; border:1px solid var(--line); background:#fff; color:var(--text);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; border-radius:10px; padding:8px 12px; display:inline-flex; align-items:center; gap:8px; line-height:1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel[data-theme=&quot;dark&quot;] .btn{ background:#0f172a; border-color:#1f2b45; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .btn.primary{ border:0; color:#fff; background:linear-gradient(90deg,var(--grad1),var(--grad2)); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .btn.ghost{ background:transparent; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .btn.sm{ padding:6px 10px; font-size:12px; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .tag{ font-size:12px; color:var(--muted); border:1px solid var(--line); border-radius:999px; padding:4px 8px; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .hint{ font-size:12px; color:var(--muted); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .chip{ font-size:12px; color:var(--text); background:var(--chip); border:1px solid var(--line); border-radius:6px; padding:4px 6px; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .icon{ width:18px; height:18px; display:inline-block; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .icon svg{ width:18px; height:18px; fill:none; stroke:currentColor; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* ===== Layout chrome ===== */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .top {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; display:flex; gap:10px; justify-content:space-between; align-items:center; flex-wrap:wrap;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; padding:6px 6px 8px; border:1px solid var(--line); border-radius:12px; background:transparent;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .brand{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; display:flex; align-items:center; gap:8px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .brand img{ width:28px; height:28px; border-radius:6px; object-fit:cover; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .brand b{ font-size:14px; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .wrap{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; display:grid; grid-template-columns:280px 1fr; gap:12px; margin-top:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; @media (max-width: 980px){ #gp-panel .wrap{ grid-template-columns:1fr; } }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .sidebar{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; border:1px solid var(--line); border-radius:12px; padding:10px; max-height:68vh; overflow:auto;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .main{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; border:1px solid var(--line); border-radius:12px; padding:12px; min-height:240px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* ===== Simple blocks inside sidebar/main ===== */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .side-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:6px; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .search{ display:flex; gap:6px; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel input[type=&quot;text&quot;]{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; width:100%; padding:8px 10px; border:1px solid var(--line); border-radius:10px; background:transparent; color:var(--text);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel h3{ margin:0 0 6px; font-size:18px; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel p{ margin:6px 0; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .progress{ font-size:12px; color:var(--muted); }</span></p><p class="c0"><span class="c1">&nbsp; &lt;/style&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- GP:END THEME --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- GP:BEGIN LAYOUT --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;div class=&quot;top&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;div class=&quot;brand&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;!-- &#1051;&#1086;&#1075;&#1086; &#1079; &#1090;&#1074;&#1086;&#1075;&#1086; URL --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;img src=&quot;http://46.254.107.103:8080/shop/d26a0a21-85fe-46ea-8469-ce8bad72397b/description/ChatGPT%20Image%2024%20&#1089;&#1077;&#1085;&#1090;.%202025%20&#1075;.,%2010_49_10.png&quot; alt=&quot;Logo&quot; loading=&quot;lazy&quot; /&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;b&gt;Zero-to-Bot Panel&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;span class=&quot;chip&quot;&gt;beta&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;div style=&quot;display:flex; align-items:center; gap:8px; flex-wrap:wrap&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;span class=&quot;tag&quot; id=&quot;gp-chat1&quot;&gt;Chat 1 &middot; &#1053;&#1072;&#1074;&#1110;&#1075;&#1072;&#1090;&#1086;&#1088;&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;span class=&quot;tag&quot; id=&quot;gp-chat2&quot;&gt;Chat 2 &middot; Cursor&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;span class=&quot;progress&quot; id=&quot;gp-progress&quot;&gt;0% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;gp-guide-btn&quot; title=&quot;&#1050;&#1086;&#1088;&#1086;&#1090;&#1082;&#1080;&#1081; &#1075;&#1072;&#1081;&#1076;&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;svg viewBox=&quot;0 0 24 24&quot;&gt;&lt;path d=&quot;M4 6h16M4 12h10M4 18h16&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot;/&gt;&lt;/svg&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/span&gt; &#1050;&#1077;&#1088;&#1110;&#1074;&#1085;&#1080;&#1094;&#1090;&#1074;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;gp-settings-btn&quot; title=&quot;&#1053;&#1072;&#1083;&#1072;&#1096;&#1090;&#1091;&#1074;&#1072;&#1085;&#1085;&#1103;&quot;&gt;&#1053;&#1072;&#1083;&#1072;&#1096;&#1090;&#1091;&#1074;&#1072;&#1085;&#1085;&#1103;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &lt;div class=&quot;wrap&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;aside class=&quot;sidebar&quot; aria-label=&quot;&#1053;&#1072;&#1074;&#1110;&#1075;&#1072;&#1094;&#1110;&#1103; &#1082;&#1088;&#1086;&#1082;&#1110;&#1074;&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;side-head&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b class=&quot;hint&quot;&gt;&#1050;&#1088;&#1086;&#1082;&#1080;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=&quot;chip&quot; id=&quot;gp-build&quot;&gt;build 2025-10-29.1&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;search&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;text&quot; id=&quot;gp-find&quot; placeholder=&quot;&#1055;&#1086;&#1096;&#1091;&#1082; &#1082;&#1088;&#1086;&#1082;&#1110;&#1074;&hellip;&quot; /&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn sm&quot; id=&quot;gp-showall&quot;&gt;&#1055;&#1086;&#1082;&#1072;&#1079;&#1072;&#1090;&#1080; &#1087;&#1083;&#1072;&#1085;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div id=&quot;gp-sections&quot; class=&quot;hint&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- &#1090;&#1091;&#1090; &#1079;&#700;&#1103;&#1074;&#1080;&#1090;&#1100;&#1089;&#1103; &#1076;&#1077;&#1088;&#1077;&#1074;&#1086; &#1082;&#1088;&#1086;&#1082;&#1110;&#1074; &#1091; M2 --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &#1057;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088; &#1079; &#1082;&#1088;&#1086;&#1082;&#1072;&#1084;&#1080; &#1073;&#1091;&#1076;&#1077; &#1090;&#1091;&#1090; (M2).</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/aside&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;main class=&quot;main&quot; aria-live=&quot;polite&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;h3 id=&quot;gp-title&quot;&gt;&#1051;&#1072;&#1089;&#1082;&#1072;&#1074;&#1086; &#1087;&#1088;&#1086;&#1089;&#1080;&#1084;&#1086; ????&lt;/h3&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;p class=&quot;hint&quot; id=&quot;gp-desc&quot;&gt;&#1062;&#1077; &#1086;&#1073;&#1086;&#1083;&#1086;&#1085;&#1082;&#1072; &#1087;&#1072;&#1085;&#1077;&#1083;&#1110;. &#1053;&#1072; &#1085;&#1072;&#1089;&#1090;&#1091;&#1087;&#1085;&#1080;&#1093; &#1082;&#1088;&#1086;&#1082;&#1072;&#1093; &#1076;&#1086;&#1076;&#1072;&#1084;&#1086; &#1083;&#1086;&#1075;&#1110;&#1082;&#1091; &#1077;&#1090;&#1072;&#1087;&#1110;&#1074; &#1110; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#1110;&#1074;.&lt;/p&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div style=&quot;display:flex; gap:8px; flex-wrap:wrap; margin-top:8px&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;gp-start&quot;&gt;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;gp-how&quot;&gt;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/main&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- GP:END LAYOUT --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- GP:BEGIN BOOT --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; (function(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const root = document.getElementById(&#39;gp-panel&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const STATE_VERSION = 1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const mq = window.matchMedia &amp;&amp; window.matchMedia(&#39;(prefers-color-scheme: dark)&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; let state = { v: STATE_VERSION, mode: root?.getAttribute(&#39;data-mode&#39;) || &#39;auto&#39;, theme: &#39;light&#39;, done: 0 };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; function applyTheme(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const selected = state.mode === &#39;auto&#39; ? (mq &amp;&amp; mq.matches ? &#39;dark&#39; : &#39;light&#39;) : state.mode;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; state.theme = selected;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; root.setAttribute(&#39;data-theme&#39;, selected);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; document.body.classList.toggle(&#39;gp-dark&#39;, selected===&#39;dark&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; function save(){ try { localStorage.setItem(STORE_KEY, JSON.stringify(state)); } catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; function load(){ try {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(prev &amp;&amp; prev.v === STATE_VERSION){ state = Object.assign(state, prev); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; } catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; function render(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; // &#1055;&#1088;&#1080;&#1084;&#1110;&#1090;&#1080;&#1074;&#1085;&#1080;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;-&#1087;&#1083;&#1077;&#1081;&#1089;&#1093;&#1086;&#1083;&#1076;&#1077;&#1088; (&#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100;&#1089;&#1103; &#1074; M2+)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const pg = root.querySelector(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(pg) pg.textContent = (state.done|0) + &#39;% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; function bind(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const guide = root.querySelector(&#39;#gp-guide-btn&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; guide &amp;&amp; guide.addEventListener(&#39;click&#39;, ()=&gt; alert(&#39;&#1043;&#1072;&#1081;&#1076; &#1079;&#700;&#1103;&#1074;&#1080;&#1090;&#1100;&#1089;&#1103; &#1074; M1/M2.&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const how = root.querySelector(&#39;#gp-how&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; how &amp;&amp; how.addEventListener(&#39;click&#39;, ()=&gt; alert(&#39;&#1050;&#1086;&#1088;&#1086;&#1090;&#1082;&#1086;: &#1085;&#1072;&#1090;&#1080;&#1089;&#1085;&#1080; &rarr; &#1089;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &rarr; &#1074;&#1089;&#1090;&#1072;&#1074;. &#1044;&#1077;&#1090;&#1072;&#1083;&#1110; &#1076;&#1086;&#1076;&#1072;&#1084;&#1086; &#1091; &#1085;&#1072;&#1089;&#1090;&#1091;&#1087;&#1085;&#1080;&#1093; &#1084;&#1086;&#1076;&#1091;&#1083;&#1103;&#1093;.&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const start = root.querySelector(&#39;#gp-start&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; start &amp;&amp; start.addEventListener(&#39;click&#39;, ()=&gt; alert(&#39;&#1057;&#1090;&#1072;&#1088;&#1090; &#1084;&#1072;&#1081;&#1089;&#1090;&#1088;&#1072; &#1076;&#1086;&#1076;&#1072;&#1084;&#1086; &#1091; M3 (&#1040;&#1085;&#1082;&#1077;&#1090;&#1072;).&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(mq &amp;&amp; mq.addEventListener){ mq.addEventListener(&#39;change&#39;, ()=&gt;{ if(state.mode===&#39;auto&#39;){ applyTheme(); save(); } }); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; load(); applyTheme(); render(); bind(); save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; init();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; })();</span></p><p class="c0"><span class="c1">&nbsp; &lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- GP:END BOOT --&gt;</span></p><p class="c0"><span class="c1">&lt;/div&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M0 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M1 START &bull; SETTINGS MODAL + LOGIC (build 2025-10-29.2) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN SETTINGS STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; /* scope &#1074;&#1089;&#1077;&#1088;&#1077;&#1076;&#1080;&#1085;&#1110; &#1087;&#1072;&#1085;&#1077;&#1083;&#1110; */</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .modal-backdrop{position:fixed;inset:0;background:rgba(15,23,42,.45);display:none;z-index:9998}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:9999}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .modal .box{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; width:min(720px,92vw);max-height:82vh;overflow:auto;background:var(--bg);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; border:1px solid var(--line);border-radius:16px;padding:14px;color:var(--text)</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .modal .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:8px 0}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .modal h4{margin:0 0 8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .setting{display:flex;justify-content:space-between;align-items:center;gap:12px;border:1px solid var(--line);border-radius:10px;padding:10px;margin:8px 0}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .radio{display:flex;gap:10px;align-items:center;flex-wrap:wrap}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .radio label{display:inline-flex;gap:6px;align-items:center;font-size:14px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .radio input{accent-color:#4664ff}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .linklike{color:var(--accent);text-decoration:underline;cursor:pointer}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .badge{border:1px solid var(--line);border-radius:999px;padding:2px 8px;font-size:12px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END SETTINGS STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN SETTINGS MODAL --&gt;</span></p><p class="c0"><span class="c1">&lt;div class=&quot;modal-backdrop&quot; id=&quot;gp-backdrop-settings&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&lt;div class=&quot;modal&quot; id=&quot;gp-settings-modal&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; aria-label=&quot;&#1053;&#1072;&#1083;&#1072;&#1096;&#1090;&#1091;&#1074;&#1072;&#1085;&#1085;&#1103;&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;div class=&quot;box&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;div class=&quot;row&quot; style=&quot;justify-content:space-between&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;h4&gt;&#1053;&#1072;&#1083;&#1072;&#1096;&#1090;&#1091;&#1074;&#1072;&#1085;&#1085;&#1103;&lt;/h4&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn sm ghost&quot; id=&quot;gp-settings-close&quot; aria-label=&quot;&#1047;&#1072;&#1082;&#1088;&#1080;&#1090;&#1080;&quot;&gt;&#10005;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;div class=&quot;setting&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1052;&#1086;&#1074;&#1072; &#1110;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;&#1091;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1044;&#1077;&#1092;&#1086;&#1083;&#1090; &mdash; &#1091;&#1082;&#1088;&#1072;&#1111;&#1085;&#1089;&#1100;&#1082;&#1072;. &#1030;&#1085;&#1096;&#1110; &#1084;&#1086;&#1074;&#1080; &#1079;&rsquo;&#1103;&#1074;&#1083;&#1103;&#1090;&#1100;&#1089;&#1103; &#1087;&#1110;&#1079;&#1085;&#1110;&#1096;&#1077;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;radio&quot; id=&quot;gp-lang-group&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;gp-lang&quot; value=&quot;uk&quot; checked&gt; &#1059;&#1082;&#1088;&#1072;&#1111;&#1085;&#1089;&#1100;&#1082;&#1072;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;gp-lang&quot; value=&quot;en&quot;&gt; English&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;div class=&quot;setting&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;RU-&#1074;&#1077;&#1088;&#1089;&#1110;&#1103; &#1089;&#1090;&#1086;&#1088;&#1110;&#1085;&#1082;&#1080;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1047;&#1072;&#1083;&#1080;&#1096; &#1087;&#1086;&#1089;&#1080;&#1083;&#1072;&#1085;&#1085;&#1103; &#1085;&#1072; RU-&#1074;&#1077;&#1088;&#1089;&#1110;&#1102;. &#1052;&#1080; &#1079;&#1073;&#1077;&#1088;&#1077;&#1078;&#1077;&#1084;&#1086; &#1081;&#1086;&#1075;&#1086; &#1110; &#1087;&#1086;&#1082;&#1072;&#1078;&#1077;&#1084;&#1086; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div id=&quot;gp-ru-hint&quot; class=&quot;hint&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn sm&quot; id=&quot;gp-add-ru&quot;&gt;&#1044;&#1086;&#1076;&#1072;&#1090;&#1080; RU-&#1087;&#1086;&#1089;&#1080;&#1083;&#1072;&#1085;&#1085;&#1103;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=&quot;badge&quot; id=&quot;gp-ru-badge&quot; style=&quot;display:none&quot;&gt;&#1079;&#1073;&#1077;&#1088;&#1077;&#1078;&#1077;&#1085;&#1086;&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;div class=&quot;row&quot; style=&quot;justify-content:flex-end&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;gp-settings-cancel&quot;&gt;&#1057;&#1082;&#1072;&#1089;&#1091;&#1074;&#1072;&#1090;&#1080;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;gp-settings-save&quot;&gt;&#1047;&#1073;&#1077;&#1088;&#1077;&#1075;&#1090;&#1080;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&lt;/div&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END SETTINGS MODAL --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN SETTINGS SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;);</span></p><p class="c0"><span class="c1">&nbsp; if(!root) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // --- storage / &#1084;&#1110;&#1075;&#1088;&#1072;&#1094;&#1110;&#1103; ---</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &#1090;&#1086;&#1081; &#1089;&#1072;&#1084;&#1080;&#1081; &#1082;&#1083;&#1102;&#1095; &#1079; M0</span></p><p class="c0"><span class="c1">&nbsp; const NEW_STATE_VERSION = 2; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// bump &#1074;&#1077;&#1088;&#1089;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; let state = { v: NEW_STATE_VERSION, mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;, theme:&#39;light&#39;, done:0, lang:&#39;uk&#39;, ruLink:&#39;&#39; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!prev) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1084;&#1110;&#1075;&#1088;&#1072;&#1094;&#1110;&#1103; &#1079; v1 &rarr; v2</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(prev.v &amp;&amp; prev.v &lt;= NEW_STATE_VERSION){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; state = Object.assign({}, state, prev);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(!state.lang) state.lang = &#39;uk&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(typeof state.ruLink!==&#39;string&#39;) state.ruLink=&#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; state.v = NEW_STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function save(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // --- modal refs ---</span></p><p class="c0"><span class="c1">&nbsp; const backdrop = document.getElementById(&#39;gp-backdrop-settings&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const modal = document.getElementById(&#39;gp-settings-modal&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const btnOpen = document.getElementById(&#39;gp-settings-btn&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const btnClose = document.getElementById(&#39;gp-settings-close&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const btnCancel = document.getElementById(&#39;gp-settings-cancel&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const btnSave = document.getElementById(&#39;gp-settings-save&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const groupLang = document.getElementById(&#39;gp-lang-group&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const addRu = document.getElementById(&#39;gp-add-ru&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const ruHint = document.getElementById(&#39;gp-ru-hint&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const ruBadge = document.getElementById(&#39;gp-ru-badge&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function openModal(){ modal.style.display=&#39;flex&#39;; backdrop.style.display=&#39;block&#39;; modal.setAttribute(&#39;aria-hidden&#39;,&#39;false&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; function closeModal(){ modal.style.display=&#39;none&#39;; backdrop.style.display=&#39;none&#39;; modal.setAttribute(&#39;aria-hidden&#39;,&#39;true&#39;); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function applyHeaderBadges(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1082;&#1072;&#1079;&#1072;&#1090;&#1080; &#1084;&#1072;&#1088;&#1082;&#1077;&#1088; &#1084;&#1086;&#1074;&#1080; &#1087;&#1086;&#1088;&#1091;&#1095; &#1079; &ldquo;Chat 1/Chat 2&rdquo; &#1072;&#1073;&#1086; &#1091; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progress = root.querySelector(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progress){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; let pct = String(state.done||0)+&#39;% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progress.textContent = pct + &#39; &middot; &#1084;&#1086;&#1074;&#1072;: &#39; + (state.lang||&#39;uk&#39;).toUpperCase();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // RU badge hint &#1074;&#1089;&#1077;&#1088;&#1077;&#1076;&#1080;&#1085;&#1110; &#1084;&#1086;&#1076;&#1072;&#1083;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(ruHint){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(state.ruLink){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ruHint.textContent = &#39;&#1055;&#1086;&#1090;&#1086;&#1095;&#1085;&#1077; RU-&#1087;&#1086;&#1089;&#1080;&#1083;&#1072;&#1085;&#1085;&#1103;: &#39; + state.ruLink;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ruBadge.style.display = &#39;inline-block&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }else{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ruHint.textContent = &#39;&#1065;&#1077; &#1085;&#1077; &#1076;&#1086;&#1076;&#1072;&#1085;&#1086;. &#1053;&#1072;&#1090;&#1080;&#1089;&#1085;&#1080; &ldquo;&#1044;&#1086;&#1076;&#1072;&#1090;&#1080; RU-&#1087;&#1086;&#1089;&#1080;&#1083;&#1072;&#1085;&#1085;&#1103;&rdquo;.&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ruBadge.style.display = &#39;none&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function bind(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1090;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btnOpen &amp;&amp; btnOpen.addEventListener(&#39;click&#39;, openModal);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1079;&#1072;&#1082;&#1088;&#1080;&#1090;&#1090;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; [btnClose, btnCancel, backdrop].forEach(b=&gt; b &amp;&amp; b.addEventListener(&#39;click&#39;, closeModal));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1089;&#1072;&#1073;&#1084;&#1110;&#1090;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btnSave &amp;&amp; btnSave.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1084;&#1086;&#1074;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const checked = groupLang &amp;&amp; groupLang.querySelector(&#39;input[name=&quot;gp-lang&quot;]:checked&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(checked) state.lang = checked.value || &#39;uk&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); applyHeaderBadges(); closeModal();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1076;&#1086;&#1076;&#1072;&#1090;&#1080; RU &#1083;&#1110;&#1085;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addRu &amp;&amp; addRu.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const url = prompt(&#39;&#1042;&#1089;&#1090;&#1072;&#1074; &#1087;&#1086;&#1089;&#1080;&#1083;&#1072;&#1085;&#1085;&#1103; &#1085;&#1072; RU-&#1074;&#1077;&#1088;&#1089;&#1110;&#1102; &#1089;&#1090;&#1086;&#1088;&#1110;&#1085;&#1082;&#1080;:&#39;, state.ruLink || &#39;https://genieprompts.net/ru&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(url &amp;&amp; typeof url === &#39;string&#39;){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; state.ruLink = url.trim();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; save(); applyHeaderBadges();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; alert(&#39;RU-&#1087;&#1086;&#1089;&#1080;&#1083;&#1072;&#1085;&#1085;&#1103; &#1079;&#1073;&#1077;&#1088;&#1077;&#1078;&#1077;&#1085;&#1086;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1110;&#1085;&#1110;&#1094;&#1110;&#1072;&#1083;&#1110;&#1079;&#1072;&#1094;&#1110;&#1103; &#1089;&#1090;&#1072;&#1085;&#1091; &#1087;&#1077;&#1088;&#1077;&#1084;&#1080;&#1082;&#1072;&#1095;&#1072; &#1084;&#1086;&#1074;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(groupLang){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const current = state.lang || &#39;uk&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const opt = groupLang.querySelector(&#39;input[value=&quot;&#39;+current+&#39;&quot;]&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(opt) opt.checked = true;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // Esc &#1076;&#1083;&#1103; &#1079;&#1072;&#1082;&#1088;&#1080;&#1090;&#1090;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; document.addEventListener(&#39;keydown&#39;, (e)=&gt;{ if(e.key===&#39;Escape&#39;) closeModal(); });</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load(); save(); applyHeaderBadges(); bind();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END SETTINGS SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M1 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M2 START &bull; SIDEBAR steps (build 2025-10-29.3) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN SIDEBAR STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; /* &#1090;&#1110;&#1083;&#1100;&#1082;&#1080; &#1074; &#1084;&#1077;&#1078;&#1072;&#1093; &#1087;&#1072;&#1085;&#1077;&#1083;&#1110; */</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .sec{margin:8px 0;border:1px solid var(--line);border-radius:10px;overflow:hidden}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .sec h4{margin:0;font-size:14px;padding:8px 10px;background:var(--chip);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; display:flex;justify-content:space-between;align-items:center;cursor:pointer}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .sec .list{display:none;padding:6px 8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .sec.open .list{display:block}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .item{display:flex;gap:8px;align-items:center;padding:8px;border-radius:8px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; cursor:pointer;border:1px solid transparent}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .item .i{width:18px;height:18px;border:1px solid var(--line);border-radius:4px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; display:inline-flex;align-items:center;justify-content:center;font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .item .t{flex:1}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .item .b{font-size:11px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .item.active{background:var(--active-bg);border-color:var(--active-border);outline:2px solid var(--active-border)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .item.done{opacity:.75}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END SIDEBAR STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN SIDEBAR SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;);</span></p><p class="c0"><span class="c1">&nbsp; if(!root) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // === state / storage (bump &#1074;&#1077;&#1088;&#1089;&#1110;&#1111; &#1076;&#1086; 3) ===</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 3;</span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme:&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ruLink:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; current: 0,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; done: [], &nbsp; &nbsp; &nbsp; // &#1110;&#1085;&#1076;&#1077;&#1082;&#1089;&#1080; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1080;&#1093; &#1082;&#1088;&#1086;&#1082;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; filter: &#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(prev){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; state = Object.assign(state, prev);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; state.v = STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(!Array.isArray(state.done)) state.done=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(typeof state.current!==&#39;number&#39;) state.current=0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(typeof state.filter!==&#39;string&#39;) state.filter=&#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // === &#1082;&#1088;&#1086;&#1082;&#1080; / &#1089;&#1077;&#1082;&#1094;&#1110;&#1111; ===</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, open:true, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, open:true, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;AUTO&#39;, b:&#39;auto&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;/start /help&#39;, b:&#39;test&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, open:false, items:[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; {t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1079;&#1074;&#1077;&#1089;&#1090;&#1080; &#1074; &#1087;&#1083;&#1086;&#1089;&#1082;&#1080;&#1081; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1076;&#1083;&#1103; &#1110;&#1085;&#1076;&#1077;&#1082;&#1089;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; let flat = [];</span></p><p class="c0"><span class="c1">&nbsp; function flatten(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; flat = [];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; sections.forEach((sec, si)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; sec.items.forEach((it, idx)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; flat.push({ si, idx, sec: sec.title, title: it.t, badge: it.b });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // === UI build ===</span></p><p class="c0"><span class="c1">&nbsp; const box = root.querySelector(&#39;#gp-sections&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const find = root.querySelector(&#39;#gp-find&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const showAllBtn = root.querySelector(&#39;#gp-showall&#39;);</span></p><p class="c0"><span class="c1">&nbsp; const progressEl = root.querySelector(&#39;#gp-progress&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function buildSidebar(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!box) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; box.innerHTML = &#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const f = (state.filter||&#39;&#39;).toLowerCase();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; sections.forEach((sec, si)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1089;&#1077;&#1082;&#1094;&#1110;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const c = document.createElement(&#39;div&#39;); c.className = &#39;sec&#39; + (sec.open? &#39; open&#39;:&#39;&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const h = document.createElement(&#39;h4&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; h.innerHTML = `&lt;span&gt;${sec.title}&lt;/span&gt;&lt;span&gt;${sec.open?&#39;&minus;&#39;:&#39;+&#39;}&lt;/span&gt;`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; h.addEventListener(&#39;click&#39;, ()=&gt;{ sec.open = !sec.open; save(); buildSidebar(); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; c.appendChild(h);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const list = document.createElement(&#39;div&#39;); list.className = &#39;list&#39;;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; sec.items.forEach((it, idx)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const txt = (it.t + &#39; &#39; + (it.b||&#39;&#39;)).toLowerCase();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(f &amp;&amp; !txt.includes(f)) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const li = document.createElement(&#39;div&#39;); li.className = &#39;item&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const flatIndex = flat.findIndex(x=&gt;x.si===si &amp;&amp; x.idx===idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(state.current===flatIndex) li.classList.add(&#39;active&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(state.done.includes(flatIndex)) li.classList.add(&#39;done&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; li.innerHTML =</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `&lt;span class=&quot;i&quot;&gt;${state.done.includes(flatIndex)?&#39;&#10003;&#39;:(flatIndex+1)}&lt;/span&gt;`+</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `&lt;div class=&quot;t&quot;&gt;&lt;div&gt;${it.t}&lt;/div&gt;&lt;div class=&quot;b&quot;&gt;${it.b||&#39;&#39;}&lt;/div&gt;&lt;/div&gt;`;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; li.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; state.current = flatIndex;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &#1072;&#1074;&#1090;&#1086;-&#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1090;&#1103; &#1089;&#1077;&#1082;&#1094;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sections[si].open = true;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; save(); buildSidebar(); reflectMainHeader();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; list.appendChild(li);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; c.appendChild(list);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; box.appendChild(c);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const pct = Math.round((state.done.length / flat.length)*100) || 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1090;&#1080;&#1084;&#1095;&#1072;&#1089;&#1086;&#1074;&#1080;&#1081; &#1088;&#1077;&#1092;&#1083;&#1077;&#1082;&#1089; &#1091; &#1079;&#1072;&#1075;&#1086;&#1083;&#1086;&#1074;&#1086;&#1082; main (&#1086;&#1085;&#1086;&#1074;&#1080;&#1084;&#1086; &#1091; M3+)</span></p><p class="c0"><span class="c1">&nbsp; function reflectMainHeader(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const s = flat[state.current] || flat[0];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const titleEl = root.querySelector(&#39;#gp-title&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const descEl = root.querySelector(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(titleEl) titleEl.textContent = `&#1050;&#1088;&#1086;&#1082; ${state.current+1}. ${s ? s.title : &#39;...&#39;}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(descEl) descEl.textContent = s ? s.sec : &#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // === &#1087;&#1086;&#1076;&#1110;&#1111; ===</span></p><p class="c0"><span class="c1">&nbsp; function bind(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1096;&#1091;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; find &amp;&amp; find.addEventListener(&#39;input&#39;, (e)=&gt;{ state.filter = e.target.value || &#39;&#39;; save(); buildSidebar(); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1082;&#1072;&#1079;&#1072;&#1090;&#1080;/&#1079;&#1075;&#1086;&#1088;&#1085;&#1091;&#1090;&#1080; &#1074;&#1089;&#1077;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; showAllBtn &amp;&amp; showAllBtn.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const allOpen = sections.every(s=&gt;s.open);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; sections.forEach(s=&gt; s.open = !allOpen);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); buildSidebar();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1075;&#1072;&#1088;&#1103;&#1095;&#1072; &#1082;&#1085;&#1086;&#1087;&#1082;&#1072; &quot;&#1042;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;&quot; (&#1087;&#1086;&#1082;&#1080; &#1097;&#1086; &#1076;&#1077;&#1084;&#1086;: &#1084;&#1072;&#1088;&#1082;&#1091;&#1108; &#1087;&#1086;&#1090;&#1086;&#1095;&#1085;&#1080;&#1081; &#1082;&#1088;&#1086;&#1082; done)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1091; M3 &#1079;&#1072;&#1084;&#1110;&#1085;&#1080;&#1084;&#1086; &#1085;&#1072; &#1089;&#1087;&#1088;&#1072;&#1074;&#1078;&#1085;&#1102; &#1082;&#1085;&#1086;&#1087;&#1082;&#1091; &#1074; main</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; root.addEventListener(&#39;gp:markDone&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.done.includes(state.current)) state.done.push(state.current);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); buildSidebar();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load(); flatten(); buildSidebar(); reflectMainHeader(); bind();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END SIDEBAR SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M2 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M3 START &bull; START + FORM (build 2025-10-29.4) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN FORM STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .form-grid .full{grid-column:1/-1}</span></p><p class="c0"><span class="c1">&nbsp; @media(max-width:980px){ #gp-panel .form-grid{grid-template-columns:1fr} }</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .field{display:flex;flex-direction:column;gap:6px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .field label{font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .err{font-size:12px;color:var(--error);display:none}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .err.show{display:block}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .block{border:1px solid var(--line);border-radius:12px;padding:10px;margin-top:10px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END FORM STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN START+FORM SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // === storage (&#1089;&#1091;&#1084;&#1110;&#1089;&#1085;&#1086; &#1079; M0/M1/M2) ===</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 4;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1076;&#1091;&#1073;&#1083;&#1100; &#1089;&#1077;&#1082;&#1094;&#1110;&#1081; &#1076;&#1083;&#1103; &#1084;&#1072;&#1087;&#1080; &#1110;&#1085;&#1076;&#1077;&#1082;&#1089;&#1110;&#1074; (&#1090;&#1086;&#1081; &#1089;&#1072;&#1084;&#1080;&#1081; &#1087;&#1086;&#1088;&#1103;&#1076;&#1086;&#1082;, &#1097;&#1086; &#1074; M2)</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; let flat=[]; sections.forEach((sec,si)=&gt;sec.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:sec.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1089;&#1090;&#1072;&#1085;</span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang: &#39;uk&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ruLink: &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; current: 0,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; done: [],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; filter: &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile: { role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; formValid:false</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state = Object.assign(state, prev);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.v = STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.profile) state.profile = { role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39; };</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(typeof state.formValid!==&#39;boolean&#39;) state.formValid=false;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.done)) state.done=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1091;&#1090;&#1080;&#1083;&#1110;&#1090;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function setProgress(){ // &#1087;&#1088;&#1086;&#1089;&#1090;&#1077; &#1086;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1085;&#1103; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;&#1091; (M2 &#1090;&#1077;&#1078; &#1087;&#1086;-&#1089;&#1074;&#1086;&#1108;&#1084;&#1091; &#1087;&#1077;&#1088;&#1077;&#1088;&#1072;&#1093;&#1091;&#1108;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const pct = Math.round((state.done.length / flat.length)*100) || 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl) progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextIndex){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(state.current)) state.done.push(state.current);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(typeof nextIndex===&#39;number&#39;) state.current = nextIndex;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save(); setProgress();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1074;&#1110;&#1076;&#1086;&#1084;&#1083;&#1103;&#1108;&#1084;&#1086; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088; (M2 &#1089;&#1083;&#1091;&#1093;&#1072;&#1108; &#1094;&#1102; &#1087;&#1086;&#1076;&#1110;&#1102;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderMain();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1088;&#1077;&#1085;&#1076;&#1077;&#1088; &#1075;&#1086;&#1083;&#1086;&#1074;&#1085;&#1086;&#1111; &#1086;&#1073;&#1083;&#1072;&#1089;&#1090;&#1110; &#1076;&#1083;&#1103; &#1082;&#1083;&#1102;&#1095;&#1110;&#1074; welcome/form</span></p><p class="c0"><span class="c1">&nbsp; function renderMain(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = $(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const cur = flat[state.current] || flat[0];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const key = cur ? cur.key : &#39;welcome&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const titleEl = $(&#39;#gp-title&#39;); const descEl = $(&#39;#gp-desc&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key===&#39;welcome&#39;){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(titleEl) titleEl.textContent = &#39;&#1051;&#1072;&#1089;&#1082;&#1072;&#1074;&#1086; &#1087;&#1088;&#1086;&#1089;&#1080;&#1084;&#1086; &#128075;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(descEl) descEl.textContent = &#39;&#1053;&#1072;&#1090;&#1080;&#1089;&#1085;&#1080; &ldquo;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&rdquo; &mdash; &#1079;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1096; 5 &#1087;&#1086;&#1083;&#1110;&#1074; &#1110; &#1087;&#1110;&#1076;&#1077;&#1084;&#1086; &#1076;&#1072;&#1083;&#1110;.&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const block = document.createElement(&#39;div&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; block.className=&#39;dyn&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; block.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div style=&quot;display:flex; gap:8px; flex-wrap:wrap; margin-top:8px&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;gp-start-now&quot;&gt;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;gp-see-how&quot;&gt;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; main.appendChild(block);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#gp-start-now&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; // &#1087;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1085;&#1072; &#1082;&#1088;&#1086;&#1082; &quot;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&quot;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const idx = flat.findIndex(x=&gt;x.key===&#39;form&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(idx&gt;=0){ state.current = idx; save(); renderMain(); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#gp-see-how&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; alert(&#39;1) &#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1102;&#1108;&#1096; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091; &rarr; 2) &#1054;&#1073;&#1080;&#1088;&#1072;&#1108;&#1096; &#1088;&#1077;&#1078;&#1080;&#1084; &rarr; 3) &#1050;&#1086;&#1087;&#1110;&#1102;&#1108;&#1096; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090; &#1091; Cursor &rarr; 4) &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;.&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key===&#39;form&#39;){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(titleEl) titleEl.textContent = &#39;&#1040;&#1085;&#1082;&#1077;&#1090;&#1072;: 5 &#1087;&#1088;&#1086;&#1089;&#1090;&#1080;&#1093; &#1087;&#1086;&#1083;&#1110;&#1074;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(descEl) descEl.textContent = &#39;&#1062;&#1077; &#1073;&#1072;&#1079;&#1072;. &#1053;&#1072; &#1111;&#1111; &#1086;&#1089;&#1085;&#1086;&#1074;&#1110; &#1079;&#1073;&#1077;&#1088;&#1077;&#1084;&#1086; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#1080; &#1090;&#1072; &#1110;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1094;&#1110;&#1111;.&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const block = document.createElement(&#39;div&#39;); block.className=&#39;dyn&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; block.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;block&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;form-grid&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;field&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1056;&#1086;&#1083;&#1100; &#1073;&#1086;&#1090;&#1072; &lt;span class=&quot;hint&quot;&gt;(&#1085;&#1072;&#1087;&#1088;.: &#1040;&#1089;&#1080;&#1089;&#1090;&#1077;&#1085;&#1090; &#1090;&#1088;&#1077;&#1082;&#1110;&#1085;&#1075;&#1091; &#1079;&#1074;&#1080;&#1095;&#1086;&#1082;)&lt;/span&gt;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;text&quot; id=&quot;f-role&quot; value=&quot;${escapeHtml(state.profile.role)}&quot; placeholder=&quot;&#1042;&#1087;&#1080;&#1096;&#1080; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1086;&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;err&quot; id=&quot;e-role&quot;&gt;&#1042;&#1082;&#1072;&#1078;&#1080; &#1088;&#1086;&#1083;&#1100;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;field&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1062;&#1110;&#1083;&#1100; &lt;span class=&quot;hint&quot;&gt;(&#1086;&#1076;&#1085;&#1077; &#1088;&#1077;&#1095;&#1077;&#1085;&#1085;&#1103;)&lt;/span&gt;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;text&quot; id=&quot;f-goal&quot; value=&quot;${escapeHtml(state.profile.goal)}&quot; placeholder=&quot;&#1065;&#1086; &#1089;&#1072;&#1084;&#1077; &#1084;&#1072;&#1108; &#1088;&#1086;&#1073;&#1080;&#1090;&#1080; &#1073;&#1086;&#1090;?&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;err&quot; id=&quot;e-goal&quot;&gt;&#1054;&#1087;&#1080;&#1096;&#1080; &#1094;&#1110;&#1083;&#1100;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;field&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &lt;span class=&quot;hint&quot;&gt;(&#1095;&#1077;&#1088;&#1077;&#1079; &#1082;&#1086;&#1084;&#1091;)&lt;/span&gt;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;text&quot; id=&quot;f-cmds&quot; value=&quot;${escapeHtml(state.profile.cmds)}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;field&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1052;&#1086;&#1074;&#1072; UI&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;text&quot; id=&quot;f-lang&quot; value=&quot;${escapeHtml(state.profile.lang||&#39;uk&#39;)}&quot; placeholder=&quot;uk / en&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;field&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1050;&#1072;&#1085;&#1072;&#1083;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;text&quot; id=&quot;f-channel&quot; value=&quot;${escapeHtml(state.profile.channel||&#39;DM&#39;)}&quot; placeholder=&quot;DM &#1072;&#1073;&#1086; Group&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;full&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1055;&#1086;&#1088;&#1072;&#1076;&#1072;: &#1085;&#1077; &#1091;&#1089;&#1082;&#1083;&#1072;&#1076;&#1085;&#1102;&#1081;. &#1050;&#1086;&#1088;&#1086;&#1090;&#1082;&#1086; &#1081; &#1087;&#1086; &#1089;&#1091;&#1090;&#1110; &mdash; &#1076;&#1072;&#1083;&#1110; &#1088;&#1086;&#1079;&#1082;&#1083;&#1072;&#1076;&#1077;&#1084;&#1086; &#1072;&#1074;&#1090;&#1086;&#1084;&#1072;&#1090;&#1080;&#1095;&#1085;&#1086;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div style=&quot;display:flex; gap:8px; flex-wrap:wrap; margin-top:10px&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;f-confirm&quot;&gt;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;f-copy-chat1&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1076;&#1083;&#1103; Chat 1&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;f-chat1-preview&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; main.appendChild(block);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1073;&#1110;&#1085;&#1076;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#f-confirm&#39;)?.addEventListener(&#39;click&#39;, onConfirm);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#f-copy-chat1&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const prompt = buildChat1Prompt();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const box = $(&#39;#f-chat1-preview&#39;); if(box){ box.textContent = prompt; box.style.display=&#39;block&#39;; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; copyText(prompt);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // live update &#1079;&#1073;&#1077;&#1088;&#1077;&#1078;&#1077;&#1085;&#1085;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; [&#39;role&#39;,&#39;goal&#39;,&#39;cmds&#39;,&#39;lang&#39;,&#39;channel&#39;].forEach(k=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const el = $(&#39;#f-&#39;+k);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; el &amp;&amp; el.addEventListener(&#39;input&#39;, (e)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; state.profile[k] = String(e.target.value||&#39;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1110;&#1085;&#1096;&#1110; &#1082;&#1088;&#1086;&#1082;&#1080; M4+ &#1079;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1084;&#1086; &#1087;&#1110;&#1079;&#1085;&#1110;&#1096;&#1077; &mdash; &#1090;&#1091;&#1090; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086; &#1085;&#1077; &#1095;&#1110;&#1087;&#1072;&#1108;&#1084;&#1086; main</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function onConfirm(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1079;&#1095;&#1080;&#1090;&#1072;&#1090;&#1080; &#1087;&#1086;&#1083;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const role = $(&#39;#f-role&#39;).value.trim();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const goal = $(&#39;#f-goal&#39;).value.trim();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const cmds = $(&#39;#f-cmds&#39;).value.trim() || &#39;/start, /help&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const lang = $(&#39;#f-lang&#39;).value.trim() || &#39;uk&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const channel = $(&#39;#f-channel&#39;).value.trim() || &#39;DM&#39;;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1074;&#1072;&#1083;&#1110;&#1076;&#1072;&#1094;&#1110;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let ok = true;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; toggleErr(&#39;#e-role&#39;, !role); ok = ok &amp;&amp; !!role;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; toggleErr(&#39;#e-goal&#39;, !goal); ok = ok &amp;&amp; !!goal;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!ok) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1079;&#1073;&#1077;&#1088;&#1077;&#1075;&#1090;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state.profile = { role, goal, cmds, lang, channel };</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state.lang = lang;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state.formValid = true;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save(); setProgress();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1074;&#1110;&#1076;&#1084;&#1110;&#1090;&#1080;&#1090;&#1080; done &#1110; &#1087;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1085;&#1072; &#1085;&#1072;&#1089;&#1090;&#1091;&#1087;&#1085;&#1080;&#1081; &#1087;&#1091;&#1085;&#1082;&#1090; &ldquo;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&rdquo;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idxConfirm = flat.findIndex(x=&gt;x.key===&#39;confirm&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(idxConfirm&gt;=0){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.current = idxConfirm; // &#1087;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1084;&#1086; &#1103;&#1082; &#1087;&#1086;&#1090;&#1086;&#1095;&#1085;&#1080;&#1081; &#1087;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1078;&#1077;&#1085;&#1085;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1084;&#1072;&#1088;&#1082;&#1091;&#1108;&#1084;&#1086; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1080;&#1081; &#1087;&#1086;&#1087;&#1077;&#1088;&#1077;&#1076;&#1085;&#1110;&#1081; &#1087;&#1091;&#1085;&#1082;&#1090; (form)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idxForm = flat.findIndex(x=&gt;x.key===&#39;form&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(idxForm&gt;=0){ state.current = idxForm; save(); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; markDoneAndGo(idxConfirm); // rebuild sidebar + jump &#1085;&#1072; confirm (done)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1110; &#1086;&#1076;&#1088;&#1072;&#1079;&#1091; &#1096;&#1090;&#1086;&#1074;&#1093;&#1072;&#1108;&#1084;&#1086; &#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1091;&#1074;&#1072;&#1095;&#1072; &#1076;&#1072;&#1083;&#1110; &mdash; &#1076;&#1086; &#1074;&#1080;&#1073;&#1086;&#1088;&#1091; &#1088;&#1077;&#1078;&#1080;&#1084;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idxAuto = flat.findIndex(x=&gt;x.key===&#39;auto&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(idxAuto&gt;=0){ state.current = idxAuto; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;)); renderMain(); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; alert(&#39;&#1040;&#1085;&#1082;&#1077;&#1090;&#1091; &#1087;&#1088;&#1080;&#1081;&#1085;&#1103;&#1090;&#1086;. &#1044;&#1072;&#1083;&#1110; &mdash; &#1074;&#1080;&#1073;&#1110;&#1088; &#1088;&#1077;&#1078;&#1080;&#1084;&#1091; (AUTO/ASSISTED).&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1055;&#1086;&#1073;&#1091;&#1076;&#1086;&#1074;&#1072; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1086;&#1075;&#1086; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#1072; &#1076;&#1083;&#1103; Chat 1 (ASSISTED &#1088;&#1077;&#1078;&#1080;&#1084;)</span></p><p class="c0"><span class="c1">&nbsp; function buildChat1Prompt(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const p = state.profile;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;[CHAT 1 | NAVIGATOR] Onboarding survey &rarr; produce concise English DEV BRIEF.&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;User answers:&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;- Role: &#39;+(p.role||&#39;-&#39;),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;- Goal: &#39;+(p.goal||&#39;-&#39;),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;- Commands: &#39;+(p.cmds||&#39;-&#39;),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;- UI Language: &#39;+(p.lang||&#39;uk&#39;),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;- Channel: &#39;+(p.channel||&#39;DM&#39;),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;Deliverables:&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;1) DEV BRIEF (8&ndash;12 lines, English) for a Telegram bot matching answers.&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;2) Bullet list of key flows.&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;3) Data entities and storage suggestion (very brief).&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;No code yet.&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1076;&#1086;&#1087;&#1086;&#1084;&#1110;&#1078;&#1085;&#1077;: &#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1085;&#1085;&#1103; &#1079; &#1092;&#1086;&#1083;&#1073;&#1077;&#1082;&#1086;&#1084;</span></p><p class="c0"><span class="c1">&nbsp; async function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1092;&#1086;&#1083;&#1073;&#1077;&#1082;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ta = document.createElement(&#39;textarea&#39;); ta.value = txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m3&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t = document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m3&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m3);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m3 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toggleErr(sel, show){ const el = $(sel); if(!el) return; el.classList.toggle(&#39;show&#39;, !!show); }</span></p><p class="c0"><span class="c1">&nbsp; function escapeHtml(s){ return (s||&#39;&#39;).replace(/[&amp;&lt;&gt;&quot;&#39;]/g, m=&gt;({ &#39;&amp;&#39;:&#39;&amp;amp;&#39;,&#39;&lt;&#39;:&#39;&amp;lt;&#39;,&#39;&gt;&#39;:&#39;&amp;gt;&#39;,&#39;&quot;&#39;:&#39;&amp;quot;&#39;,&quot;&#39;&quot;:&#39;&amp;#39;&#39; }[m])); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load(); setProgress();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1103;&#1082;&#1097;&#1086; &#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1091;&#1074;&#1072;&#1095; &#1085;&#1072;&#1090;&#1080;&#1089;&#1085;&#1077; &quot;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&quot; &#1079; M0 &mdash; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086; &#1087;&#1077;&#1088;&#1077;&#1088;&#1077;&#1085;&#1076;&#1077;&#1088;&#1080;&#1084;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const startBtn = $(&#39;#gp-start&#39;); startBtn &amp;&amp; startBtn.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idx = flat.findIndex(x=&gt;x.key===&#39;form&#39;); if(idx&gt;=0){ state.current=idx; save(); renderMain(); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderMain();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END START+FORM SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M3 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M4 START &bull; MODES: AUTO / ASSISTED (build 2025-10-29.5) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN MODES STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .mode-wrap{display:grid;grid-template-columns:1fr;gap:10px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel textarea.kbd{min-height:120px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END MODES STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN MODES SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 5;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1089;&#1080;&#1085;&#1093;&#1088;&#1086;&#1085;&#1085;&#1080;&#1081; flat &#1087;&#1086;&#1088;&#1103;&#1076;&#1086;&#1082; &#1103;&#1082; &#1091; M2/M3</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; let flat=[]; sections.forEach((sec,si)=&gt;sec.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:sec.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION, mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39; &nbsp;// &#1089;&#1102;&#1076;&#1080; &#1074;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1108;&#1084;&#1086; DEV BRIEF &#1074;&#1110;&#1076; Chat 1</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state = Object.assign(state, prev);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.v = STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.profile) state.profile = { role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39; };</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(typeof state.assistedBrief!==&#39;string&#39;) state.assistedBrief=&#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.done)) state.done=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(typeof state.current!==&#39;number&#39;) state.current=0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0"><span class="c1">&nbsp; let lastIdx = -1;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088; DEV BRIEF (EN) &#1079; &#1072;&#1085;&#1082;&#1077;&#1090;&#1080; (&#1076;&#1091;&#1078;&#1077; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1086; &#1110; &#1095;&#1110;&#1090;&#1082;&#1086;)</span></p><p class="c0"><span class="c1">&nbsp; function makeDevBrief(p){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Goal: Build a Telegram bot &ndash; ${p.role||&#39;Bot&#39;} &ndash; whose main purpose is: ${p.goal||&#39;not specified&#39;}.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Commands: ${p.cmds||&#39;/start, /help&#39;}.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `UI Language: ${p.lang||&#39;uk&#39;}. Channel: ${p.channel||&#39;DM&#39;}.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Key flows: onboarding (/start), help (/help), core action(s) based on goal.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Storage: start with lightweight JSON file (local) or Google Sheets if user selects Sheets.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Tech: Python 3.10+, aiogram v3, python-dotenv for TOKEN.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Structure: main.py, requirements.txt, .env, data/ (if needed).`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Next steps: generate code skeleton, run locally or in Codespaces, then extend features.`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088; CURSOR PROMPT (EN) &#1110;&#1079; DEV BRIEF</span></p><p class="c0"><span class="c1">&nbsp; function makeCursorPrompt(p, brief){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Generate project skeleton`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`You are Cursor writing code only. Use Python 3.10+, aiogram v3, python-dotenv.`,</span></p><p class="c0"><span class="c1">`Create a minimal working bot based on this DEV BRIEF:`,</span></p><p class="c0"><span class="c1">`----- DEV BRIEF -----`,</span></p><p class="c0"><span class="c1">brief.trim(),</span></p><p class="c0"><span class="c1">`---------------------`,</span></p><p class="c0"><span class="c1">`Deliverables (files):`,</span></p><p class="c0"><span class="c1">`1) requirements.txt (aiogram==3.*, python-dotenv, loguru)`,</span></p><p class="c0"><span class="c1">`2) main.py with /start and /help handlers, polling start`,</span></p><p class="c0"><span class="c1">`3) .env.example with TOKEN=your_token_here`,</span></p><p class="c0"><span class="c1">`Notes:`,</span></p><p class="c0"><span class="c1">`- Do not add extra prose. Return code blocks with exact content.`,</span></p><p class="c0"><span class="c1">`- Keep code runnable with: pip install -r requirements.txt &amp;&amp; python main.py`,</span></p><p class="c0"><span class="c1">`- Language in messages: ${p.lang||&#39;uk&#39;}.`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1087;&#1088;&#1086;&#1084;&#1087;&#1090; &#1076;&#1083;&#1103; Chat 1 (ASSISTED) &mdash; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1080;&#1081;</span></p><p class="c0"><span class="c1">&nbsp; function makeAssistedPrompt(p){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `[CHAT 1 | NAVIGATOR] Onboarding survey &rarr; produce concise English DEV BRIEF.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `User answers:`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `- Role: ${p.role||&#39;-&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `- Goal: ${p.goal||&#39;-&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `- Commands: ${p.cmds||&#39;-&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `- UI Language: ${p.lang||&#39;uk&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `- Channel: ${p.channel||&#39;DM&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; ``,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Deliverables:`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `1) DEV BRIEF (8&ndash;12 lines, English) for a Telegram bot matching answers.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `2) Bullet list of key flows.`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `3) Data entities and storage suggestion (very brief).`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `No code yet.`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; (async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; })();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m4&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m4&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m4);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m4 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;)); // M2 &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===nextKey);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(ni&gt;=0){ state.current = ni; save(); renderModes(true); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1080;&#1081; &#1088;&#1077;&#1085;&#1076;&#1077;&#1088; &#1076;&#1083;&#1103; &#1082;&#1088;&#1086;&#1082;&#1110;&#1074; auto/assisted</span></p><p class="c0"><span class="c1">&nbsp; function renderModes(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load(); // &#1074;&#1080;&#1090;&#1103;&#1075;&#1085;&#1091;&#1090;&#1080; &#1072;&#1082;&#1090;&#1091;&#1072;&#1083;&#1100;&#1085;&#1080;&#1081; current, &#1103;&#1082;&#1097;&#1086; &#1079;&#1084;&#1110;&#1085;&#1080;&#1074;&#1089;&#1103; &#1079;&#1086;&#1074;&#1085;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const curIdx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!force &amp;&amp; curIdx===lastIdx) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lastIdx = curIdx;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const key = getKey();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key!==&#39;auto&#39; &amp;&amp; key!==&#39;assisted&#39;) return; // &#1087;&#1086;&#1082;&#1072;&#1079;&#1091;&#1108;&#1084;&#1086; &#1090;&#1110;&#1083;&#1100;&#1082;&#1080; &#1085;&#1072; &#1094;&#1080;&#1093; &#1077;&#1090;&#1072;&#1087;&#1072;&#1093;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const titleEl = $(&#39;#gp-title&#39;); const descEl = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key===&#39;auto&#39;){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; titleEl &amp;&amp; (titleEl.textContent = &#39;&#1056;&#1077;&#1078;&#1080;&#1084; AUTO: &#1074;&#1089;&#1077; &#1075;&#1086;&#1090;&#1086;&#1074;&#1086; &#1072;&#1074;&#1090;&#1086;&#1084;&#1072;&#1090;&#1080;&#1095;&#1085;&#1086;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; descEl &amp;&amp; (descEl.textContent = &#39;&#1052;&#1080; &#1079;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1074;&#1072;&#1083;&#1080; &#1072;&#1085;&#1075;&#1083;&#1086;&#1084;&#1086;&#1074;&#1085;&#1080;&#1081; DEV BRIEF &#1110; CURSOR PROMPT. &#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1091; Cursor, &#1082;&#1086;&#1083;&#1080; &#1073;&#1091;&#1076;&#1077;&#1084;&#1086; &#1090;&#1072;&#1084;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const devBrief = makeDevBrief(state.profile);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const cursorPrompt = makeCursorPrompt(state.profile, devBrief);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn card mode-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;DEV BRIEF (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m4-brief&quot;&gt;${escapeHtml(devBrief)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m4-copy-brief&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; BRIEF&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;CURSOR PROMPT (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m4-prompt&quot;&gt;${escapeHtml(cursorPrompt)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m4-copy-cursor&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1076;&#1083;&#1103; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m4-next&quot;&gt;&#1043;&#1086;&#1090;&#1086;&#1074;&#1086; &rarr; &#1044;&#1086; &#1082;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#1072;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#m4-copy-brief&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(devBrief));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#m4-copy-cursor&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(cursorPrompt));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#m4-next&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; markDoneAndGo(&#39;chips&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key===&#39;assisted&#39;){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; titleEl &amp;&amp; (titleEl.textContent = &#39;&#1056;&#1077;&#1078;&#1080;&#1084; ASSISTED: &#1095;&#1077;&#1088;&#1077;&#1079; ChatGPT &rarr; &#1087;&#1086;&#1090;&#1110;&#1084; Cursor&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; descEl &amp;&amp; (descEl.textContent = &#39;&#1050;&#1088;&#1086;&#1082; 1: &#1089;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090; &#1091; Chat 1. &#1050;&#1088;&#1086;&#1082; 2: &#1074;&#1089;&#1090;&#1072;&#1074; &#1085;&#1072;&#1079;&#1072;&#1076; DEV BRIEF. &#1050;&#1088;&#1086;&#1082; 3: &#1086;&#1090;&#1088;&#1080;&#1084;&#1072;&#1108;&#1096; CURSOR PROMPT.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const assistedPrompt = makeAssistedPrompt(state.profile);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const devBrief = (state.assistedBrief||&#39;&#39;).trim();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const cursorPrompt = devBrief ? makeCursorPrompt(state.profile, devBrief) : &#39;&#39;;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn card mode-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1050;&#1088;&#1086;&#1082; 1 &mdash; &#1055;&#1088;&#1086;&#1084;&#1087;&#1090; &#1076;&#1083;&#1103; Chat 1&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m4-assist&quot;&gt;${escapeHtml(assistedPrompt)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m4-copy-assist&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1076;&#1083;&#1103; Chat 1&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1050;&#1088;&#1086;&#1082; 2 &mdash; &#1042;&#1089;&#1090;&#1072;&#1074; DEV BRIEF (EN) &#1074;&#1110;&#1076; Chat 1&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;textarea class=&quot;kbd&quot; id=&quot;m4-brief-inp&quot; placeholder=&quot;&#1042;&#1089;&#1090;&#1072;&#1074; &#1089;&#1102;&#1076;&#1080; DEV BRIEF &#1072;&#1085;&#1075;&#1083;&#1110;&#1081;&#1089;&#1100;&#1082;&#1086;&#1102;&hellip;&quot;&gt;${escapeHtml(state.assistedBrief)}&lt;/textarea&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m4-save-brief&quot;&gt;&#1047;&#1073;&#1077;&#1088;&#1077;&#1075;&#1090;&#1080; BRIEF&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=&quot;hint&quot;&gt;&#1055;&#1110;&#1089;&#1083;&#1103; &#1079;&#1073;&#1077;&#1088;&#1077;&#1078;&#1077;&#1085;&#1085;&#1103; &#1079;&#700;&#1103;&#1074;&#1080;&#1090;&#1100;&#1089;&#1103; CURSOR PROMPT.&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot; id=&quot;m4-cursor-card&quot; style=&quot;${cursorPrompt?&#39;&#39;:&#39;display:none&#39;}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1050;&#1088;&#1086;&#1082; 3 &mdash; CURSOR PROMPT (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m4-prompt2&quot;&gt;${escapeHtml(cursorPrompt)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m4-copy-cursor2&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1076;&#1083;&#1103; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m4-next2&quot;&gt;&#1043;&#1086;&#1090;&#1086;&#1074;&#1086; &rarr; &#1044;&#1086; &#1082;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#1072;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#m4-copy-assist&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(assistedPrompt));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#m4-save-brief&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const val = ($(&#39;#m4-brief-inp&#39;).value||&#39;&#39;).trim();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(!val){ alert(&#39;&#1042;&#1089;&#1090;&#1072;&#1074; DEV BRIEF &#1074;&#1110;&#1076; Chat 1.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; state.assistedBrief = val; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; // &#1079;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1074;&#1072;&#1090;&#1080; &#1081; &#1087;&#1086;&#1082;&#1072;&#1079;&#1072;&#1090;&#1080; CURSOR PROMPT</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const cp = makeCursorPrompt(state.profile, val);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const card = $(&#39;#m4-cursor-card&#39;); const box=$(&#39;#m4-prompt2&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(card &amp;&amp; box){ box.textContent = cp; card.style.display=&#39;block&#39;; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#m4-copy-cursor2&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const box = $(&#39;#m4-prompt2&#39;); if(!box) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; copyText(box.textContent||&#39;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#m4-next2&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; markDoneAndGo(&#39;chips&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1091;&#1090;&#1080;&#1083;&#1110;&#1090;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; function escapeHtml(s){ return (s||&#39;&#39;).replace(/[&amp;&lt;&gt;&quot;&#39;]/g, m=&gt;({ &#39;&amp;&#39;:&#39;&amp;amp;&#39;,&#39;&lt;&#39;:&#39;&amp;lt;&#39;,&#39;&gt;&#39;:&#39;&amp;gt;&#39;,&#39;&quot;&#39;:&#39;&amp;quot;&#39;,&quot;&#39;&quot;:&#39;&amp;#39;&#39; }[m])); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1090;&#1088;&#1080;&#1075;&#1077;&#1088;&#1080; &#1086;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1085;&#1103;: &#1087;&#1077;&#1088;&#1110;&#1086;&#1076;&#1080;&#1095;&#1085;&#1086; &#1081; &#1087;&#1110;&#1089;&#1083;&#1103; &#1087;&#1086;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1085;&#1103; done</span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderModes(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1082;&#1086;&#1083;&#1080; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088; &#1072;&#1073;&#1086; &#1110;&#1085;&#1096;&#1110; &#1084;&#1086;&#1076;&#1091;&#1083;&#1110; &#1084;&#1110;&#1085;&#1103;&#1102;&#1090;&#1100; current &mdash; &#1086;&#1085;&#1086;&#1074;&#1083;&#1102;&#1108;&#1084;&#1086;&#1089;&#1100;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; root.addEventListener(&#39;gp:markDone&#39;, ()=&gt; renderModes(true));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1083;&#1077;&#1075;&#1082;&#1080;&#1081; &#1110;&#1085;&#1090;&#1077;&#1088;&#1074;&#1072;&#1083; &#1103;&#1082; &#1089;&#1090;&#1088;&#1072;&#1093;&#1086;&#1074;&#1082;&#1072; &#1074;&#1110;&#1076; &#1079;&#1086;&#1074;&#1085;&#1110;&#1096;&#1085;&#1110;&#1093; &#1082;&#1083;&#1110;&#1082;&#1110;&#1074; &#1091; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;&#1110; (M2)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderModes(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END MODES SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M4 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M5 START &bull; CHIPS CONSTRUCTOR (build 2025-10-29.6) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN CHIPS STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chips-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chip-row{display:flex;flex-wrap:wrap;gap:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chipbtn{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; border:1px solid var(--line); border-radius:999px; padding:6px 10px; cursor:pointer; font-size:12px; background:transparent;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chipbtn[aria-pressed=&quot;true&quot;]{ background:var(--active-bg); border-color:var(--active-border) }</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line); border-radius:12px; padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END CHIPS STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN CHIPS SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 6;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1089;&#1080;&#1085;&#1093;&#1088;&#1086;&#1085;&#1110;&#1079;&#1086;&#1074;&#1072;&#1085;&#1086; &#1079; M2/M3/M4</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION, mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;, theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1085;&#1086;&#1074;&#1110; &#1087;&#1086;&#1083;&#1103; &#1082;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#1072;:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state = Object.assign(state, prev);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.v = STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1076;&#1077;&#1092;&#1086;&#1083;&#1090;&#1080; &#1076;&#1083;&#1103; &#1085;&#1086;&#1074;&#1080;&#1093; &#1087;&#1086;&#1083;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.profile = Object.assign({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }, state.profile||{});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.profile.modules)) state.profile.modules=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.profile.integrations)) state.profile.integrations=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.profile.data) state.profile.data=&#39;json&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.profile.level) state.profile.level=&#39;L1&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function key(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1085;&#1072;&#1073;&#1110;&#1088; &#1095;&#1110;&#1087;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; const CHIPSETS = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; type: [&#39;CRM&#39;,&#39;Task&#39;,&#39;Habit&#39;,&#39;FAQ&#39;,&#39;Shop&#39;,&#39;Booking&#39;,&#39;Custom&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; modules: [&#39;ui-buttons&#39;,&#39;reminders&#39;,&#39;roles&#39;,&#39;admin&#39;,&#39;payments&#39;,&#39;stats&#39;,&#39;files&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; data: [&#39;no-save&#39;,&#39;json&#39;,&#39;sheets&#39;,&#39;sqlite&#39;,&#39;postgres&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; integrations: [&#39;sheets&#39;,&#39;notion&#39;,&#39;webhook&#39;,&#39;stripe&#39;,&#39;openai&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; backend: [&#39;none&#39;,&#39;parser&#39;,&#39;webhook-receiver&#39;,&#39;tiny-fastapi&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; level: [&#39;L0&#39;,&#39;L1&#39;,&#39;L2&#39;,&#39;L3&#39;]</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function chip(label, pressed, onClick){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const b = document.createElement(&#39;button&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; b.className=&#39;chipbtn&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; b.textContent=label;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; b.setAttribute(&#39;aria-pressed&#39;, pressed?&#39;true&#39;:&#39;false&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; b.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; onClick &amp;&amp; onClick(label, b.getAttribute(&#39;aria-pressed&#39;)===&#39;true&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return b;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderChips(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const k = key();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(![&#39;chips&#39;,&#39;storage/integrations&#39;,&#39;backend/level&#39;].includes(k)) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;: &#1079;&#1073;&#1077;&#1088;&#1080; &#1082;&#1086;&#1085;&#1092;&#1110;&#1075; &#1074;&#1072;&#1096;&#1086;&#1075;&#1086; &#1073;&#1086;&#1090;&#1072;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1054;&#1073;&#1077;&#1088;&#1080; &#1087;&#1086;&#1090;&#1088;&#1110;&#1073;&#1085;&#1110; &#1095;&#1110;&#1087;&#1080;. &#1055;&#1088;&#1077;&#1074;&#700;&#1102; &#1072;&#1085;&#1075;&#1083;&#1086;&#1084;&#1086;&#1074;&#1085;&#1086;&#1075;&#1086; BRIEF &#1110; CURSOR PROMPT &#1079;&#1085;&#1080;&#1079;&#1091;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1095;&#1080;&#1089;&#1090;&#1080;&#1090;&#1080; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1073;&#1083;&#1086;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn chips-wrap&#39;;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // TYPE (single)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.appendChild(sectionCard(&#39;&#1058;&#1080;&#1087; &#1073;&#1086;&#1090;&#1072;&#39;, CHIPSETS.type, (val, was)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.profile.type = (state.profile.type===val &amp;&amp; was) ? &#39;&#39; : val;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderPreview();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, (val)=&gt; state.profile.type===val, true));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // MODULES (multi)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.appendChild(sectionCard(&#39;&#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, CHIPSETS.modules, (val, was)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; toggleIn(state.profile.modules, val, was);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderPreview();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, (val)=&gt; state.profile.modules.includes(val), false));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // DATA (single)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.appendChild(sectionCard(&#39;&#1044;&#1072;&#1085;&#1110; / &#1047;&#1073;&#1077;&#1088;&#1077;&#1078;&#1077;&#1085;&#1085;&#1103;&#39;, CHIPSETS.data, (val, was)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.profile.data = (state.profile.data===val &amp;&amp; was) ? &#39;json&#39; : val;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderPreview();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, (val)=&gt; state.profile.data===val, true));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // INTEGRATIONS (multi)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.appendChild(sectionCard(&#39;&#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, CHIPSETS.integrations, (val, was)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; toggleIn(state.profile.integrations, val, was);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderPreview();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, (val)=&gt; state.profile.integrations.includes(val), false));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // BACKEND (single)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.appendChild(sectionCard(&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.)&#39;, CHIPSETS.backend, (val, was)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.profile.backend = (state.profile.backend===val &amp;&amp; was) ? &#39;none&#39; : val;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderPreview();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, (val)=&gt; state.profile.backend===val, true));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // LEVEL (single)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.appendChild(sectionCard(&#39;&#1056;&#1110;&#1074;&#1077;&#1085;&#1100; &#1089;&#1082;&#1083;&#1072;&#1076;&#1085;&#1086;&#1089;&#1090;&#1110;&#39;, CHIPSETS.level, (val, was)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.profile.level = (state.profile.level===val &amp;&amp; was) ? &#39;L1&#39; : val;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderPreview();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, (val)=&gt; state.profile.level===val, true));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // PREVIEW</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev = document.createElement(&#39;div&#39;); prev.className=&#39;card&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; prev.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;b&gt;&#1055;&#1088;&#1077;&#1074;&#700;&#1102; &middot; DEV BRIEF (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m5-brief&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m5-copy-brief&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; BRIEF&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div style=&quot;height:8px&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;b&gt;&#1055;&#1088;&#1077;&#1074;&#700;&#1102; &middot; CURSOR PROMPT (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m5-prompt&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m5-copy-cursor&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1076;&#1083;&#1103; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m5-done&quot;&gt;&#1043;&#1086;&#1090;&#1086;&#1074;&#1086; &rarr; &#1054;&#1075;&#1083;&#1103;&#1076;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.appendChild(prev);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderPreview();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m5-copy-brief&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(makeBrief(state.profile)));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m5-copy-cursor&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(makeCursor(state.profile)));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m5-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1087;&#1086;&#1084;&#1110;&#1090;&#1080;&#1090;&#1080; done &#1110; &#1087;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1085;&#1072; &ldquo;DEV BRIEF (EN)&rdquo;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===&#39;brief&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(ni&gt;=0){ state.current=ni; save(); renderChips(); renderPreview(true); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function sectionCard(title, items, onClick, isActive, single){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const card = document.createElement(&#39;div&#39;); card.className=&#39;card&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const row = document.createElement(&#39;div&#39;); row.className=&#39;chip-row&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; card.innerHTML = `&lt;b&gt;${title}${single?&#39; (&#1086;&#1076;&#1080;&#1085; &#1074;&#1080;&#1073;&#1110;&#1088;)&#39;:&#39; (&#1082;&#1110;&#1083;&#1100;&#1082;&#1072;)&#39;} &lt;/b&gt;`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; items.forEach(val=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const b = chip(val, isActive(val), (label, wasPressed)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; // &#1103;&#1082;&#1097;&#1086; single &mdash; &#1079;&#1085;&#1103;&#1090;&#1080; &#1110;&#1085;&#1096;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(single){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; row.querySelectorAll(&#39;.chipbtn&#39;).forEach(x=&gt;x.setAttribute(&#39;aria-pressed&#39;,&#39;false&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b.setAttribute(&#39;aria-pressed&#39;, String(!(state.profile[typeByTitle(title)]===label &amp;&amp; wasPressed)));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }else{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b.setAttribute(&#39;aria-pressed&#39;, String(!wasPressed));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; onClick(label, wasPressed);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; row.appendChild(b);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; card.appendChild(row);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return card;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function typeByTitle(title){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(title.startsWith(&#39;&#1058;&#1080;&#1087;&#39;)) return &#39;type&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(title.startsWith(&#39;&#1044;&#1072;&#1085;&#1110;&#39;)) return &#39;data&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(title.startsWith(&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076;&#39;)) return &#39;backend&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(title.startsWith(&#39;&#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;)) return &#39;level&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return &#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toggleIn(arr, val, wasPressed){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const i = arr.indexOf(val);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(wasPressed &amp;&amp; i&gt;-1) arr.splice(i,1);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; else if(!wasPressed &amp;&amp; i===-1) arr.push(val);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1055;&#1088;&#1077;&#1074;&#700;&#1102; &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1080; (&#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1110;, &#1073;&#1077;&#1079; &#1082;&#1086;&#1076;&#1091;)</span></p><p class="c0"><span class="c1">&nbsp; function makeBrief(p){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const mods = p.modules.length? p.modules.join(&#39;, &#39;) : &#39;basic&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ints = p.integrations.length? p.integrations.join(&#39;, &#39;) : &#39;none&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Type: ${p.type||&#39;Custom&#39;} &middot; Level: ${p.level||&#39;L1&#39;} &middot; Backend: ${p.backend||&#39;none&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Goal: ${p.goal||&#39;-&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Commands: ${p.cmds||&#39;/start, /help&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Modules: ${mods}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Data: ${p.data} &middot; Integrations: ${ints}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Tech: Python 3.10+, aiogram v3, python-dotenv`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Structure: requirements.txt, main.py, .env(.example), data/ (if needed)`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Run: pip install -r requirements.txt &amp;&amp; python main.py`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `UI Language: ${p.lang||&#39;uk&#39;} &middot; Channel: ${p.channel||&#39;DM&#39;}`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function makeCursor(p){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const brief = makeBrief(p);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Generate skeleton by profile`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`Use Python 3.10+, aiogram v3, python-dotenv.`,</span></p><p class="c0"><span class="c1">`Implement minimal working bot according to this profile:`,</span></p><p class="c0"><span class="c1">`----- DEV BRIEF -----`,</span></p><p class="c0"><span class="c1">brief,</span></p><p class="c0"><span class="c1">`---------------------`,</span></p><p class="c0"><span class="c1">`Deliverables:`,</span></p><p class="c0"><span class="c1">`- requirements.txt (aiogram==3.*, python-dotenv, loguru)`,</span></p><p class="c0"><span class="c1">`- main.py with /start, /help; start polling`,</span></p><p class="c0"><span class="c1">`- .env.example (TOKEN=your_token_here)`,</span></p><p class="c0"><span class="c1">`No extra prose. Keep messages in ${p.lang||&#39;uk&#39;}.`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderPreview(skipSet){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const b = $(&#39;#m5-brief&#39;); const p = $(&#39;#m5-prompt&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(b) b.textContent = makeBrief(state.profile);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(p) p.textContent = makeCursor(state.profile);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!skipSet){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); if(title) title.textContent = &#39;&#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;: &#1079;&#1073;&#1077;&#1088;&#1080; &#1082;&#1086;&#1085;&#1092;&#1110;&#1075; &#1074;&#1072;&#1096;&#1086;&#1075;&#1086; &#1073;&#1086;&#1090;&#1072;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; (async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; })();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m5&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m5&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m5);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m5 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1088;&#1077;&#1085;&#1076;&#1077;&#1088;&#1080;&#1090;&#1080;, &#1082;&#1086;&#1083;&#1080; &#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1091;&#1074;&#1072;&#1095; &#1079;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1100; &#1091; &#1073;&#1091;&#1076;&#1100;-&#1103;&#1082;&#1080;&#1081; &#1087;&#1091;&#1085;&#1082;&#1090; &ldquo;&#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#1072;&rdquo;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderChips();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1089;&#1083;&#1110;&#1076;&#1082;&#1091;&#1108;&#1084;&#1086; &#1079;&#1072; &#1079;&#1084;&#1110;&#1085;&#1072;&#1084;&#1080; current (&#1082;&#1083;&#1110;&#1082;&#1080; &#1091; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;&#1110;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderChips(), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END CHIPS SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M5 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M6 START &bull; REVIEW &amp; CONFIRM (build 2025-10-29.7) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN REVIEW STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .review-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .check{display:grid;grid-template-columns:1fr;gap:8px;margin-top:6px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .check .li{display:flex;gap:8px;align-items:flex-start}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .check .li .i{width:18px;height:18px;border:1px solid var(--line);border-radius:4px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; display:inline-flex;align-items:center;justify-content:center;font-size:12px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END REVIEW STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN REVIEW SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 7;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // flat &#1103;&#1082; &#1091; &#1087;&#1086;&#1087;&#1077;&#1088;&#1077;&#1076;&#1085;&#1110;&#1093; &#1084;&#1086;&#1076;&#1091;&#1083;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; let flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION, mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state = Object.assign(state, prev);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.v = STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1076;&#1077;&#1092;&#1086;&#1083;&#1090;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.profile = Object.assign({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }, state.profile||{});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.profile.modules)) state.profile.modules=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.profile.integrations)) state.profile.integrations=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.profile.level) state.profile.level=&#39;L1&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1108;&#1084;&#1086; &#1090;&#1077;&#1082;&#1089;&#1090;</span></p><p class="c0"><span class="c1">&nbsp; function makeBrief(p){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const mods = p.modules.length? p.modules.join(&#39;, &#39;) : &#39;basic&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ints = p.integrations.length? p.integrations.join(&#39;, &#39;) : &#39;none&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Type: ${p.type||&#39;Custom&#39;} &middot; Level: ${p.level||&#39;L1&#39;} &middot; Backend: ${p.backend||&#39;none&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Goal: ${p.goal||&#39;-&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Commands: ${p.cmds||&#39;/start, /help&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Modules: ${mods}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Data: ${p.data} &middot; Integrations: ${ints}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Tech: Python 3.10+, aiogram v3, python-dotenv`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Structure: requirements.txt, main.py, .env(.example), data/ (if needed)`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Run: pip install -r requirements.txt &amp;&amp; python main.py`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `UI Language: ${p.lang||&#39;uk&#39;} &middot; Channel: ${p.channel||&#39;DM&#39;}`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function makeCursor(p, brief){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Generate skeleton by profile`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`Use Python 3.10+, aiogram v3, python-dotenv.`,</span></p><p class="c0"><span class="c1">`Implement minimal working bot according to this profile:`,</span></p><p class="c0"><span class="c1">`----- DEV BRIEF -----`,</span></p><p class="c0"><span class="c1">brief,</span></p><p class="c0"><span class="c1">`---------------------`,</span></p><p class="c0"><span class="c1">`Deliverables:`,</span></p><p class="c0"><span class="c1">`- requirements.txt (aiogram==3.*, python-dotenv, loguru)`,</span></p><p class="c0"><span class="c1">`- main.py with /start, /help; start polling`,</span></p><p class="c0"><span class="c1">`- .env.example (TOKEN=your_token_here)`,</span></p><p class="c0"><span class="c1">`No extra prose. Keep messages in ${p.lang||&#39;uk&#39;}.`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function escapeHtml(s){ return (s||&#39;&#39;).replace(/[&amp;&lt;&gt;&quot;&#39;]/g, m=&gt;({ &#39;&amp;&#39;:&#39;&amp;amp;&#39;,&#39;&lt;&#39;:&#39;&amp;lt;&#39;,&#39;&gt;&#39;:&#39;&amp;gt;&#39;,&#39;&quot;&#39;:&#39;&amp;quot;&#39;,&quot;&#39;&quot;:&#39;&amp;#39;&#39; }[m])); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; (async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; })();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m6&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m6&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m6);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m6 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;)); // M2 &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===nextKey);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(ni&gt;=0){ state.current = ni; save(); renderReview(true); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderReview(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const key = getKey();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key!==&#39;brief&#39; &amp;&amp; key!==&#39;prompt&#39;) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1054;&#1075;&#1083;&#1103;&#1076; &#1090;&#1072; &#1087;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1078;&#1077;&#1085;&#1085;&#1103;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088; BRIEF &#1110; CURSOR PROMPT. &#1071;&#1082;&#1097;&#1086; &#1074;&#1089;&#1077; &#1086;&#1082; &mdash; &#1087;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1100; &#1110; &#1088;&#1091;&#1096;&#1072;&#1081; &#1076;&#1072;&#1083;&#1110;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1076;&#1072;&#1085;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const p = state.profile;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const brief = (state.assistedBrief||&#39;&#39;).trim() ? state.assistedBrief.trim() : makeBrief(p);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const cursor = makeCursor(p, brief);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1095;&#1080;&#1089;&#1090;&#1080;&#1084;&#1086; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1082;&#1086;&#1085;&#1090;&#1077;&#1085;&#1090;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn review-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;DEV BRIEF (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m6-brief&quot;&gt;${escapeHtml(brief)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m6-copy-brief&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; BRIEF&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;CURSOR PROMPT (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m6-prompt&quot;&gt;${escapeHtml(cursor)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m6-copy-cursor&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1076;&#1083;&#1103; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1065;&#1086; &#1073;&#1091;&#1076;&#1077; &#1079;&#1088;&#1086;&#1073;&#1083;&#1077;&#1085;&#1086;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;check&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ${[</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;&#1057;&#1090;&#1074;&#1086;&#1088;&#1080;&#1084;&#1086; requirements.txt &#1079; &#1087;&#1086;&#1090;&#1088;&#1110;&#1073;&#1085;&#1080;&#1084;&#1080; &#1073;&#1110;&#1073;&#1083;&#1110;&#1086;&#1090;&#1077;&#1082;&#1072;&#1084;&#1080;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;&#1047;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1108;&#1084;&#1086; main.py &#1079; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072;&#1084;&#1080; /start &#1110; /help&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;&#1055;&#1086;&#1082;&#1083;&#1072;&#1076;&#1077;&#1084;&#1086; .env.example (TOKEN=your_token_here)&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;&#1055;&#1086;&#1103;&#1089;&#1085;&#1080;&#1084;&#1086; &#1076;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090; &#1091; Cursor &#1110; &#1103;&#1082; &#1079;&#1072;&#1087;&#1091;&#1089;&#1090;&#1080;&#1090;&#1080;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;&#1055;&#1110;&#1076;&#1075;&#1086;&#1090;&#1091;&#1108;&#1084;&#1086; /setcommands &#1076;&#1083;&#1103; BotFather&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ].map((t,i)=&gt;(</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `&lt;div class=&quot;li&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=&quot;i&quot;&gt;${i+1}&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&gt;${t}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )).join(&#39;&#39;)}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m6-back&quot;&gt;&#1053;&#1072;&#1079;&#1072;&#1076; &#1076;&#1086; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#1072;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m6-approve&quot;&gt;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1110; &#1076;&#1072;&#1083;&#1110; &rarr; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1076;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m6-copy-brief&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(brief));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m6-copy-cursor&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(cursor));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m6-back&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===&#39;chips&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(ni&gt;=0){ state.current=ni; save(); renderReview(true); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m6-approve&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1087;&#1086;&#1079;&#1085;&#1072;&#1095;&#1072;&#1108;&#1084;&#1086; &#1086;&#1073;&#1080;&#1076;&#1074;&#1072; &#1087;&#1091;&#1085;&#1082;&#1090;&#1080; &#1089;&#1077;&#1082;&#1094;&#1110;&#1111; &quot;&#1054;&#1075;&#1083;&#1103;&#1076;&quot; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1080;&#1084;&#1080; (brief+prompt)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const iBrief = flat.findIndex(x=&gt;x.key===&#39;brief&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const iPrompt = flat.findIndex(x=&gt;x.key===&#39;prompt&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; [iBrief,iPrompt].forEach(i=&gt;{ if(i&gt;=0 &amp;&amp; !state.done.includes(i)) state.done.push(i); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; markDoneAndGo(&#39;env&#39;); // &#1085;&#1072; Local vs Codespaces</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderReview(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1088;&#1077;&#1072;&#1075;&#1091;&#1108;&#1084;&#1086; &#1085;&#1072; &#1087;&#1077;&#1088;&#1077;&#1084;&#1080;&#1082;&#1072;&#1085;&#1085;&#1103; current &#1110;&#1079; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderReview(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END REVIEW SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M6 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M7 START &bull; ENV: Local vs Codespaces (build 2025-10-29.8) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN ENV STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .env-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hint-ok{font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .env-badge{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--line);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; border-radius:999px;padding:4px 10px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END ENV STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN ENV SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 8;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // flat &#1087;&#1086;&#1088;&#1103;&#1076;&#1086;&#1082; (&#1090;&#1086;&#1081; &#1089;&#1072;&#1084;&#1080;&#1081;)</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;, &nbsp; // auto/light/dark theme mode</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; env: root.getAttribute(&#39;data-env&#39;)||&#39;local&#39;, &nbsp; &nbsp;// &lt;-- &#1074;&#1072;&#1078;&#1083;&#1080;&#1074;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prev = JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state = Object.assign(state, prev);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.v = STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.env) state.env = &#39;local&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1076;&#1077;&#1092;&#1086;&#1083;&#1090;&#1080; &#1087;&#1088;&#1086;&#1092;&#1110;&#1083;&#1102;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.profile = Object.assign({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }, state.profile||{});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.profile.modules)) state.profile.modules=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(state.profile.integrations)) state.profile.integrations=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0"><span class="c1">&nbsp; function setEnv(env){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state.env = env;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; root.setAttribute(&#39;data-env&#39;, env);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderEnv(true);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1110; &#1087;&#1086;&#1088;&#1072;&#1076;&#1080; &ldquo;&#1097;&#1086; &#1086;&#1073;&#1088;&#1072;&#1090;&#1080;?&rdquo;</span></p><p class="c0"><span class="c1">&nbsp; function envAdvice(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1071;&#1082;&#1097;&#1086; &#1085;&#1077; &#1093;&#1086;&#1095;&#1077;&#1096; &#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1085;&#1110;&#1095;&#1086;&#1075;&#1086; &mdash; &#1086;&#1073;&#1080;&#1088;&#1072;&#1081; Codespaces (&#1074;&#1089;&#1077; &#1091; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1110;).&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1071;&#1082;&#1097;&#1086; &#1084;&#1072;&#1108;&#1096; Mac/Windows &#1110; &#1093;&#1086;&#1095;&#1077;&#1096; &#1086;&#1092;&#1083;&#1072;&#1081;&#1085; &mdash; &#1086;&#1073;&#1080;&#1088;&#1072;&#1081; Local.&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1053;&#1072; &#1089;&#1083;&#1072;&#1073;&#1082;&#1086;&#1084;&#1091; &#1085;&#1086;&#1091;&#1090;&#1110; &mdash; Codespaces &#1082;&#1086;&#1084;&#1092;&#1086;&#1088;&#1090;&#1085;&#1110;&#1096;&#1077;.&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1054;&#1073;&#1080;&#1076;&#1074;&#1072; &#1074;&#1072;&#1088;&#1110;&#1072;&#1085;&#1090;&#1080; &#1087;&#1088;&#1072;&#1094;&#1102;&#1102;&#1090;&#1100; &#1086;&#1076;&#1085;&#1072;&#1082;&#1086;&#1074;&#1086; &#1076;&#1083;&#1103; &#1085;&#1072;&#1096;&#1086;&#1111; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1080;.&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function localChecklist(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`1) &#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080; Python 3.10+ (&#1103;&#1082;&#1097;&#1086; &#1074;&#1078;&#1077; &#1108; &mdash; &#1087;&#1088;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;).`,</span></p><p class="c0"><span class="c1">`2) &#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080; Cursor (&#1072;&#1073;&#1086; VS Code).`,</span></p><p class="c0"><span class="c1">`3) &#1057;&#1090;&#1074;&#1086;&#1088;&#1080; &#1087;&#1072;&#1087;&#1082;&#1091; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091; &#1110; &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1111;&#1111; &#1091; Cursor.`,</span></p><p class="c0"><span class="c1">`4) &#1044;&#1072;&#1083;&#1110; &#1084;&#1080; &#1089;&#1082;&#1080;&#1085;&#1077;&#1084;&#1086; &#1092;&#1072;&#1081;&#1083;&#1080; (requirements.txt, main.py, .env.example).`,</span></p><p class="c0"><span class="c1">`5) &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;: pip install -r requirements.txt &nbsp;&rarr; &nbsp;python main.py`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function codesChecklist(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`1) &#1053;&#1072;&#1090;&#1080;&#1089;&#1085;&#1080; &ldquo;Open in Codespaces&rdquo; (GitHub &#1072;&#1082;&#1072;&#1091;&#1085;&#1090; &#1087;&#1086;&#1090;&#1088;&#1110;&#1073;&#1077;&#1085;).`,</span></p><p class="c0"><span class="c1">`2) &#1057;&#1090;&#1074;&#1086;&#1088;&#1080;&#1090;&#1100;&#1089;&#1103; &#1089;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077; &#1079; Python &#1091; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1110;.`,</span></p><p class="c0"><span class="c1">`3) &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1074;&#1073;&#1091;&#1076;&#1086;&#1074;&#1072;&#1085;&#1080;&#1081; Terminal (&#1090;&#1072;&#1084; &#1078;&#1077;).`,</span></p><p class="c0"><span class="c1">`4) &#1044;&#1072;&#1083;&#1110; &#1084;&#1080; &#1089;&#1082;&#1080;&#1085;&#1077;&#1084;&#1086; &#1092;&#1072;&#1081;&#1083;&#1080; (requirements.txt, main.py, .env.example).`,</span></p><p class="c0"><span class="c1">`5) &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;: pip install -r requirements.txt &nbsp;&rarr; &nbsp;python main.py`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;)); // &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;/&#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===nextKey);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(ni&gt;=0){ state.current = ni; save(); renderEnv(true); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderEnv(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const key = getKey();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key!==&#39;env&#39;) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;: Local &#1095;&#1080; Codespaces&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1054;&#1073;&#1077;&#1088;&#1080; &#1074;&#1072;&#1088;&#1110;&#1072;&#1085;&#1090;. &#1053;&#1080;&#1078;&#1095;&#1077; &mdash; &#1087;&#1088;&#1086;&#1089;&#1090;&#1080;&#1081; &#1095;&#1077;&#1082;&#1083;&#1110;&#1089;&#1090; &#1110; &#1096;&#1074;&#1080;&#1076;&#1082;&#1110; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1095;&#1080;&#1089;&#1090;&#1080;&#1084;&#1086; &#1087;&#1086;&#1087;&#1077;&#1088;&#1077;&#1076;&#1085;&#1110; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1095;&#1085;&#1110; &#1073;&#1083;&#1086;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn env-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=&quot;env-badge&quot;&gt;&#1055;&#1086;&#1090;&#1086;&#1095;&#1085;&#1077;: &lt;b id=&quot;env-badge&quot;&gt;${(state.env||&#39;local&#39;).toUpperCase()}&lt;/b&gt;&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;env-choose-local&quot;&gt;&#1054;&#1073;&#1088;&#1072;&#1090;&#1080; Local&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;env-choose-codes&quot;&gt;&#1054;&#1073;&#1088;&#1072;&#1090;&#1080; Codespaces&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd hint-ok&quot; style=&quot;margin-top:8px&quot;&gt;${envAdvice()}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;Local (&#1086;&#1092;&#1083;&#1072;&#1081;&#1085; &#1085;&#1072; &#1090;&#1074;&#1086;&#1108;&#1084;&#1091; &#1055;&#1050;)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;env-local-steps&quot;&gt;${localChecklist()}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;open-python&quot;&gt;Python.org&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;open-cursor&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;open-folder&quot;&gt;&#1071;&#1082; &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; &#1087;&#1072;&#1087;&#1082;&#1091; &#1091; Cursor?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;Codespaces (&#1091; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1110;)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;env-codes-steps&quot;&gt;${codesChecklist()}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;open-codes&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; GitHub Codespaces&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;open-gh&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; GitHub&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1044;&#1072;&#1083;&#1110;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1050;&#1086;&#1083;&#1080; &#1086;&#1073;&#1077;&#1088;&#1077;&#1096; &#1089;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077; &mdash; &#1090;&#1080;&#1089;&#1085;&#1080; &ldquo;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;&rdquo; &#1110; &#1087;&#1077;&#1088;&#1077;&#1081;&#1076;&#1077;&#1084;&#1086; &#1076;&#1086; &#1110;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1110;&#1074;/&#1092;&#1072;&#1081;&#1083;&#1110;&#1074;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;env-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080;/Files&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // bind env switch</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#env-choose-local&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; setEnv(&#39;local&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#env-choose-codes&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; setEnv(&#39;codespaces&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // quick links (&#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1074;&#1072;&#1108;&#1084;&#1086; &#1091; &#1085;&#1086;&#1074;&#1110;&#1081; &#1074;&#1082;&#1083;&#1072;&#1076;&#1094;&#1110;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#open-python&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://www.python.org/downloads/&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#open-cursor&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://www.cursor.com/&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#open-folder&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; alert(&#39;Cursor &rarr; File &rarr; Open&hellip; &rarr; &#1086;&#1073;&#1077;&#1088;&#1080; &#1087;&#1072;&#1087;&#1082;&#1091; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091;. &#1044;&#1072;&#1083;&#1110; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#1084;&#1086; &#1074;&#1089;&#1077;&#1088;&#1077;&#1076;&#1080;&#1085;&#1110; &#1094;&#1110;&#1108;&#1111; &#1087;&#1072;&#1087;&#1082;&#1080;.&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#open-codes&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://github.com/codespaces&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#open-gh&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://github.com/&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // done &rarr; go next</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#env-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1074;&#1110;&#1076;&#1084;&#1110;&#1090;&#1080;&#1090;&#1080; &ldquo;env&rdquo; &#1103;&#1082; done &#1110; &#1087;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1085;&#1072; &ldquo;tools&rdquo;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; markDoneAndGo(&#39;tools&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080; &#1073;&#1077;&#1081;&#1076;&#1078;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const badge = $(&#39;#env-badge&#39;); if(badge) badge.textContent = (state.env||&#39;local&#39;).toUpperCase();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1083;&#1077;&#1075;&#1082;&#1080;&#1081; &#1072;&#1087;&#1076;&#1077;&#1081;&#1090; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;&#1091; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderEnv(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1088;&#1077;&#1072;&#1075;&#1091;&#1108;&#1084;&#1086; &#1085;&#1072; &#1082;&#1083;&#1110;&#1082;&#1080; &#1079; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderEnv(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END ENV SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M7 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M8 START &bull; TOOLS &amp; FILES (build 2025-10-29.9) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN TOOLS/FILES STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .tools-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .listy{display:grid;grid-template-columns:1fr;gap:6px;margin-top:6px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .li{display:flex;gap:8px;align-items:flex-start}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .li .i{width:18px;height:18px;border:1px solid var(--line);border-radius:4px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; display:inline-flex;align-items:center;justify-content:center;font-size:12px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END TOOLS/FILES STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN TOOLS/FILES SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 9;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // flat &#1103;&#1082; &#1091; &#1087;&#1086;&#1087;&#1077;&#1088;&#1077;&#1076;&#1085;&#1110;&#1093; &#1084;&#1086;&#1076;&#1091;&#1083;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; env: root.getAttribute(&#39;data-env&#39;)||&#39;local&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const raw=localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(raw)||{}; state=Object.assign(state, prev); state.v=STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.env) state.env=&#39;local&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state.profile = Object.assign({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, state.profile||{});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!Array.isArray(state.profile.modules)) state.profile.modules=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!Array.isArray(state.profile.integrations)) state.profile.integrations=[];</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1047; BRIEF/PROMPT &#1073;&#1077;&#1088;&#1077;&#1084;&#1086; &#1079; &#1087;&#1088;&#1086;&#1092;&#1110;&#1083;&#1102;/&#1082;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; function makeBrief(p){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const mods = p.modules.length? p.modules.join(&#39;, &#39;) : &#39;basic&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ints = p.integrations.length? p.integrations.join(&#39;, &#39;) : &#39;none&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Type: ${p.type||&#39;Custom&#39;} &middot; Level: ${p.level||&#39;L1&#39;} &middot; Backend: ${p.backend||&#39;none&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Goal: ${p.goal||&#39;-&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Commands: ${p.cmds||&#39;/start, /help&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Modules: ${mods}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Data: ${p.data} &middot; Integrations: ${ints}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Tech: Python 3.10+, aiogram v3, python-dotenv`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Structure: requirements.txt, main.py, .env(.example), data/ (if needed)`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Run: pip install -r requirements.txt &amp;&amp; python main.py`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `UI Language: ${p.lang||&#39;uk&#39;} &middot; Channel: ${p.channel||&#39;DM&#39;}`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function makeCursorPrompt(p, brief){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Generate skeleton by profile`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`Use Python 3.10+, aiogram v3, python-dotenv.`,</span></p><p class="c0"><span class="c1">`Implement minimal working bot according to this profile:`,</span></p><p class="c0"><span class="c1">`----- DEV BRIEF -----`,</span></p><p class="c0"><span class="c1">brief,</span></p><p class="c0"><span class="c1">`---------------------`,</span></p><p class="c0"><span class="c1">`Deliverables:`,</span></p><p class="c0"><span class="c1">`- requirements.txt (aiogram==3.*, python-dotenv, loguru)`,</span></p><p class="c0"><span class="c1">`- main.py with /start, /help; start polling`,</span></p><p class="c0"><span class="c1">`- .env.example (TOKEN=your_token_here)`,</span></p><p class="c0"><span class="c1">`No extra prose. Keep messages in ${p.lang||&#39;uk&#39;}.`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function escapeHtml(s){ return (s||&#39;&#39;).replace(/[&amp;&lt;&gt;&quot;&#39;]/g, m=&gt;({ &#39;&amp;&#39;:&#39;&amp;amp;&#39;,&#39;&lt;&#39;:&#39;&amp;lt;&#39;,&#39;&gt;&#39;:&#39;&amp;gt;&#39;,&#39;&quot;&#39;:&#39;&amp;quot;&#39;,&quot;&#39;&quot;:&#39;&amp;#39;&#39; }[m])); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; async function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m8&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m8&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m8);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m8 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===nextKey);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(ni&gt;=0){ state.current=ni; save(); renderTools(true); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function whereToPasteHelp(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&#39;&#1042; Cursor &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1095;&#1072;&#1090; &#1091; &#1087;&#1088;&#1072;&#1074;&#1110;&#1081; &#1087;&#1072;&#1085;&#1077;&#1083;&#1110; (Cmd/Ctrl+I &#1072;&#1073;&#1086; &#1110;&#1082;&#1086;&#1085;&#1082;&#1072; &ldquo;Chat&rdquo;).&#39;,</span></p><p class="c0"><span class="c1">&#39;&#1059; &#1087;&#1086;&#1083;&#1110; &#1087;&#1086;&#1074;&#1110;&#1076;&#1086;&#1084;&#1083;&#1077;&#1085;&#1085;&#1103; &#1074;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1081; &#1085;&#1072;&#1096; CURSOR PROMPT (&#1072;&#1085;&#1075;&#1083;&#1110;&#1081;&#1089;&#1100;&#1082;&#1086;&#1102;).&#39;,</span></p><p class="c0"><span class="c1">&#39;&#1059;&#1042;&#1040;&#1043;&#1040;: &#1074;&#1080;&#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1086;&#1074;&#1091;&#1081; &#1095;&#1072;&#1090;, &#1103;&#1082;&#1080;&#1081; &#1087;&#1086;&#1074;&#700;&#1103;&#1079;&#1072;&#1085;&#1080;&#1081; &#1110;&#1079; &#1087;&#1086;&#1090;&#1086;&#1095;&#1085;&#1086;&#1102; &#1087;&#1072;&#1087;&#1082;&#1086;&#1102; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091;.&#39;,</span></p><p class="c0"><span class="c1">&#39;&#1044;&#1072;&#1083;&#1110; Cursor &#1089;&#1072;&#1084; &#1079;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1108;/&#1079;&#1072;&#1087;&#1088;&#1086;&#1087;&#1086;&#1085;&#1091;&#1108; &#1089;&#1090;&#1074;&#1086;&#1088;&#1080;&#1090;&#1080; &#1092;&#1072;&#1081;&#1083;&#1080;. &#1055;&#1086;&#1075;&#1086;&#1076;&#1078;&#1091;&#1081;&#1089;&#1103;.&#39;,</span></p><p class="c0"><span class="c1">&#39;&#1071;&#1082;&#1097;&#1086; &#1095;&#1072;&#1090; &#1074;&#1110;&#1076;&#1087;&#1086;&#1074;&#1110;&#1076;&#1072;&#1108; &#1087;&#1088;&#1086;&#1079;&#1072;&#1086;&#1102; &mdash; &#1076;&#1086;&#1076;&#1072;&#1081; &#1091; &#1082;&#1110;&#1085;&#1094;&#1110; PROMPT: &ldquo;No prose. Return only code blocks.&rdquo;&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function localTools(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&#39;&bull; Python 3.10+ &#1074;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1086;? &#1071;&#1082;&#1097;&#1086; &#1085;&#1110; &mdash; &#1079;&#1072;&#1074;&#1072;&#1085;&#1090;&#1072;&#1078; &#1079; python.org.&#39;,</span></p><p class="c0"><span class="c1">&#39;&bull; Cursor &#1074;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1086;? &#1071;&#1082;&#1097;&#1086; &#1085;&#1110; &mdash; cursor.com &rarr; Install.&#39;,</span></p><p class="c0"><span class="c1">&#39;&bull; &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1087;&#1072;&#1087;&#1082;&#1091; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091; &#1091; Cursor: File &rarr; Open Folder&hellip;&#39;,</span></p><p class="c0"><span class="c1">&#39;&bull; &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; Chat &#1091; Cursor (Cmd/Ctrl+I).&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function codesTools(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&#39;&bull; &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; GitHub Codespaces (&#1087;&#1086;&#1090;&#1088;&#1110;&#1073;&#1077;&#1085; GitHub &#1072;&#1082;&#1072;&#1091;&#1085;&#1090;).&#39;,</span></p><p class="c0"><span class="c1">&#39;&bull; &#1057;&#1090;&#1074;&#1086;&#1088;&#1080; Codespace &rarr; &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1108;&#1090;&#1100;&#1089;&#1103; VS Code &#1091; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1110;.&#39;,</span></p><p class="c0"><span class="c1">&#39;&bull; &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1074;&#1073;&#1091;&#1076;&#1086;&#1074;&#1072;&#1085;&#1080;&#1081; Terminal (Ctrl+` &#1072;&#1073;&#1086; View &rarr; Terminal).&#39;,</span></p><p class="c0"><span class="c1">&#39;&bull; &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; GitHub Copilot Chat/Editor Chat &mdash; &#1072;&#1073;&#1086; &#1074;&#1089;&#1090;&#1072;&#1074; PROMPT &#1091; Codespaces Chat.&#39;,</span></p><p class="c0"><span class="c1">&#39;&bull; &#1071;&#1082;&#1097;&#1086; &#1074;&#1080;&#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1086;&#1074;&#1091;&#1108;&#1096; Cursor &#1091; &#1083;&#1086;&#1082;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084;&#1091; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1110; &mdash; &#1087;&#1088;&#1072;&#1094;&#1102;&#1081; &#1091; &#1083;&#1086;&#1082;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084;&#1091; &#1074;&#1072;&#1088;&#1110;&#1072;&#1085;&#1090;&#1110;.&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderTools(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const key = getKey();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key!==&#39;tools&#39; &amp;&amp; key!==&#39;files&#39;) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; &#1090;&#1072; &#1092;&#1072;&#1081;&#1083;&#1080;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1087;&#1086;&#1090;&#1088;&#1110;&#1073;&#1085;&#1110; &#1110;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080;. &#1055;&#1086;&#1090;&#1110;&#1084; &mdash; &#1079;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1108;&#1084;&#1086; &#1092;&#1072;&#1081;&#1083;&#1080; &#1095;&#1077;&#1088;&#1077;&#1079; Cursor.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1080;&#1073;&#1080;&#1088;&#1072;&#1108;&#1084;&#1086; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const brief = (state.assistedBrief||&#39;&#39;).trim() ? state.assistedBrief.trim() : makeBrief(state.profile);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const cursorPrompt = makeCursorPrompt(state.profile, brief);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn tools-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080; / &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m8-tools&quot;&gt;${state.env===&#39;codespaces&#39; ? codesTools() : localTools()}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m8-open-python&quot;&gt;Python.org&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m8-open-cursor&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m8-open-codes&quot;&gt;GitHub Codespaces&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074; (&#1084;&#1072;&#1102;&#1090;&#1100; &#1079;&#700;&#1103;&#1074;&#1080;&#1090;&#1080;&#1089;&#1100; &#1087;&#1110;&#1089;&#1083;&#1103; PROMPT)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;listy&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;li&quot;&gt;&lt;span class=&quot;i&quot;&gt;1&lt;/span&gt;&lt;div&gt;&lt;code&gt;requirements.txt&lt;/code&gt; &#1079; &lt;code&gt;aiogram==3.*&lt;/code&gt;, &lt;code&gt;python-dotenv&lt;/code&gt;, &lt;code&gt;loguru&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;li&quot;&gt;&lt;span class=&quot;i&quot;&gt;2&lt;/span&gt;&lt;div&gt;&lt;code&gt;main.py&lt;/code&gt; &#1079;&#1110; &#1089;&#1090;&#1072;&#1088;&#1090;&#1086;&#1074;&#1080;&#1084; &#1089;&#1082;&#1077;&#1083;&#1077;&#1090;&#1086;&#1084; (/start, /help, polling)&lt;/div&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;li&quot;&gt;&lt;span class=&quot;i&quot;&gt;3&lt;/span&gt;&lt;div&gt;&lt;code&gt;.env.example&lt;/code&gt; &#1079; &lt;code&gt;TOKEN=your_token_here&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m8-copy-cursor&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; PROMPT &#1076;&#1083;&#1103; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m8-where&quot;&gt;&#1044;&#1077; &#1089;&#1072;&#1084;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m8-prompt&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1044;&#1072;&#1083;&#1110;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1050;&#1086;&#1083;&#1080; &#1075;&#1086;&#1090;&#1086;&#1074;&#1080;&#1081; &mdash; &#1087;&#1086;&#1079;&#1085;&#1072;&#1095;&#1072;&#1108;&#1084;&#1086; &#1088;&#1086;&#1079;&#1076;&#1110;&#1083; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1080;&#1081; &#1110; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086; &ldquo;&#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&rdquo;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m8-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1082;&#1085;&#1086;&#1087;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m8-open-python&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://www.python.org/downloads/&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m8-open-cursor&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://www.cursor.com/&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m8-open-codes&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://github.com/codespaces&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m8-copy-cursor&#39;)?.addEventListener(&#39;click&#39;, async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const box = $(&#39;#m8-prompt&#39;); if(box){ box.textContent = cursorPrompt; box.style.display=&#39;block&#39;; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; await copyText(cursorPrompt);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m8-where&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; alert(whereToPasteHelp());</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m8-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1087;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; current (&ldquo;tools&rdquo; &#1072;&#1073;&#1086; &ldquo;files&rdquo;) &#1103;&#1082; done &#1110; &#1087;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1085;&#1072; &ldquo;copy-cursor&rdquo;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===&#39;copy-cursor&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(ni&gt;=0){ state.current=ni; save(); renderTools(true); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080; &#1096;&#1072;&#1087;&#1082;&#1091;-&#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderTools(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderTools(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END TOOLS/FILES SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M8 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M9 START &bull; INSERT INTO CURSOR (build 2025-10-29.10) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN COPY-CURSOR STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .cursor-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel textarea.kbd{min-height:200px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .listy{display:grid;grid-template-columns:1fr;gap:6px;margin-top:6px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .li{display:flex;gap:8px;align-items:flex-start}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .li .i{width:18px;height:18px;border:1px solid var(--line);border-radius:4px;display:inline-flex;align-items:center;justify-content:center;font-size:12px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END COPY-CURSOR STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN COPY-CURSOR SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 10;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1089;&#1080;&#1085;&#1093;&#1088;&#1086;&#1085;&#1085;&#1080;&#1081; flat &#1103;&#1082; &#1088;&#1072;&#1085;&#1110;&#1096;&#1077;</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; env: root.getAttribute(&#39;data-env&#39;)||&#39;local&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const raw=localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(raw)||{}; state=Object.assign(state, prev); state.v=STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.env) state.env=&#39;local&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state.profile = Object.assign({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }, state.profile||{});</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!Array.isArray(state.profile.modules)) state.profile.modules=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!Array.isArray(state.profile.integrations)) state.profile.integrations=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(typeof state.assistedBrief!==&#39;string&#39;) state.assistedBrief=&#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1080; &#1090;&#1077;&#1082;&#1089;&#1090;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; function makeBrief(p){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const mods = p.modules.length? p.modules.join(&#39;, &#39;) : &#39;basic&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ints = p.integrations.length? p.integrations.join(&#39;, &#39;) : &#39;none&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Type: ${p.type||&#39;Custom&#39;} &middot; Level: ${p.level||&#39;L1&#39;} &middot; Backend: ${p.backend||&#39;none&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Goal: ${p.goal||&#39;-&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Commands: ${p.cmds||&#39;/start, /help&#39;}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Modules: ${mods}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Data: ${p.data} &middot; Integrations: ${ints}`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Tech: Python 3.10+, aiogram v3, python-dotenv`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Structure: requirements.txt, main.py, .env(.example), data/ (if needed)`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `Run: pip install -r requirements.txt &amp;&amp; python main.py`,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; `UI Language: ${p.lang||&#39;uk&#39;} &middot; Channel: ${p.channel||&#39;DM&#39;}`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function makeCursorPrompt(p, brief){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Generate skeleton by profile`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`Use Python 3.10+, aiogram v3, python-dotenv.`,</span></p><p class="c0"><span class="c1">`Implement minimal working bot according to this profile:`,</span></p><p class="c0"><span class="c1">`----- DEV BRIEF -----`,</span></p><p class="c0"><span class="c1">brief,</span></p><p class="c0"><span class="c1">`---------------------`,</span></p><p class="c0"><span class="c1">`Deliverables:`,</span></p><p class="c0"><span class="c1">`- requirements.txt (aiogram==3.*, python-dotenv, loguru)`,</span></p><p class="c0"><span class="c1">`- main.py with /start, /help; start polling`,</span></p><p class="c0"><span class="c1">`- .env.example (TOKEN=your_token_here)`,</span></p><p class="c0"><span class="c1">`No extra prose. Return only code blocks. Language in messages: ${p.lang||&#39;uk&#39;}.`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function whereToPaste(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&#39;1) &#1042; Cursor &#1085;&#1072;&#1090;&#1080;&#1089;&#1085;&#1080; Cmd/Ctrl+I &#1072;&#1073;&#1086; &#1110;&#1082;&#1086;&#1085;&#1082;&#1091; &ldquo;Chat&rdquo; &#1091; &#1087;&#1088;&#1072;&#1074;&#1110;&#1081; &#1087;&#1072;&#1085;&#1077;&#1083;&#1110;.&#39;,</span></p><p class="c0"><span class="c1">&#39;2) &#1055;&#1077;&#1088;&#1077;&#1082;&#1086;&#1085;&#1072;&#1081;&#1089;&#1103;, &#1097;&#1086; &#1095;&#1072;&#1090; &#1087;&#1088;&#1080;&#1074;&#700;&#1103;&#1079;&#1072;&#1085;&#1080;&#1081; &#1076;&#1086; &#1087;&#1086;&#1090;&#1086;&#1095;&#1085;&#1086;&#1111; &#1087;&#1072;&#1087;&#1082;&#1080; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091;.&#39;,</span></p><p class="c0"><span class="c1">&#39;3) &#1042;&#1089;&#1090;&#1072;&#1074; &#1085;&#1072;&#1096; CURSOR PROMPT (&#1072;&#1085;&#1075;&#1083;&#1110;&#1081;&#1089;&#1100;&#1082;&#1086;&#1102;) &#1091; &#1087;&#1086;&#1083;&#1077; &#1087;&#1086;&#1074;&#1110;&#1076;&#1086;&#1084;&#1083;&#1077;&#1085;&#1085;&#1103; &#1090;&#1072; &#1085;&#1072;&#1076;&#1110;&#1096;&#1083;&#1080;.&#39;,</span></p><p class="c0"><span class="c1">&#39;4) &#1071;&#1082;&#1097;&#1086; Cursor &#1087;&#1086;&#1095;&#1072;&#1074; &#1074;&#1110;&#1076;&#1087;&#1086;&#1074;&#1110;&#1076;&#1072;&#1090;&#1080; &ldquo;&#1074;&#1086;&#1076;&#1086;&#1102;&rdquo; &mdash; &#1076;&#1086;&#1076;&#1072;&#1081; &#1091; &#1082;&#1110;&#1085;&#1077;&#1094;&#1100;: &ldquo;No prose. Return only code blocks.&rdquo;&#39;,</span></p><p class="c0"><span class="c1">&#39;5) &#1055;&#1086;&#1075;&#1086;&#1076;&#1078;&#1091;&#1081; &#1089;&#1090;&#1074;&#1086;&#1088;&#1077;&#1085;&#1085;&#1103; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074; (requirements.txt, main.py, .env.example).&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; async function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m9&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m9&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m9);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m9 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===nextKey);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(ni&gt;=0){ state.current=ni; save(); renderCopy(true); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderCopy(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const key = getKey();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key!==&#39;copy-cursor&#39; &amp;&amp; key!==&#39;cursor-how&#39;) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1042;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1108;&#1084;&#1086; &#1091; Cursor&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; PROMPT &#1110; &#1074;&#1089;&#1090;&#1072;&#1074; &#1091; &#1095;&#1072;&#1090; Cursor, &#1097;&#1086; &#1087;&#1088;&#1080;&#1074;&#700;&#1103;&#1079;&#1072;&#1085;&#1080;&#1081; &#1076;&#1086; &#1087;&#1072;&#1087;&#1082;&#1080; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1110;&#1076;&#1075;&#1086;&#1090;&#1086;&#1074;&#1082;&#1072; BRIEF+PROMPT</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const profile = state.profile;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const brief = (state.assistedBrief||&#39;&#39;).trim() ? state.assistedBrief.trim() : makeBrief(profile);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prompt = makeCursorPrompt(profile, brief);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1080;&#1073;&#1080;&#1088;&#1072;&#1085;&#1085;&#1103; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1074;&#1077;&#1088;&#1089;&#1090;&#1082;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn cursor-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;CURSOR PROMPT (EN)&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;textarea class=&quot;kbd&quot; id=&quot;m9-prompt-box&quot; readonly&gt;${escapeHtml(prompt)}&lt;/textarea&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m9-copy-prompt&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; PROMPT&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m9-copy-both&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; BRIEF + PROMPT&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m9-open-chat&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; &#1095;&#1072;&#1090; &#1091; Cursor&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m9-where&quot;&gt;&#1044;&#1077; &#1089;&#1072;&#1084;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1065;&#1086; &#1084;&#1072;&#1108; &#1079;&#700;&#1103;&#1074;&#1080;&#1090;&#1080;&#1089;&#1103; &#1087;&#1110;&#1089;&#1083;&#1103; &#1074;&#1110;&#1076;&#1087;&#1088;&#1072;&#1074;&#1082;&#1080; PROMPT&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;listy&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;li&quot;&gt;&lt;span class=&quot;i&quot;&gt;1&lt;/span&gt;&lt;div&gt;&lt;code&gt;requirements.txt&lt;/code&gt; &#1079; &lt;code&gt;aiogram==3.*&lt;/code&gt;, &lt;code&gt;python-dotenv&lt;/code&gt;, &lt;code&gt;loguru&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;li&quot;&gt;&lt;span class=&quot;i&quot;&gt;2&lt;/span&gt;&lt;div&gt;&lt;code&gt;main.py&lt;/code&gt; &#1079; /start &#1110; /help &#1090;&#1072; &#1089;&#1090;&#1072;&#1088;&#1090;&#1086;&#1084; polling&lt;/div&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;li&quot;&gt;&lt;span class=&quot;i&quot;&gt;3&lt;/span&gt;&lt;div&gt;&lt;code&gt;.env.example&lt;/code&gt; &#1079; &lt;code&gt;TOKEN=your_token_here&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m9-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1076;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m9-copy-prompt&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(prompt));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m9-copy-both&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText( [&#39;----- DEV BRIEF -----&#39;, brief, &#39;---------------------&#39;, &#39;&#39;, prompt].join(&#39;\n&#39;) ));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m9-open-chat&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://www.cursor.com/&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m9-where&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; alert(whereToPaste()));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m9-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; markDoneAndGo(&#39;run&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function escapeHtml(s){ return (s||&#39;&#39;).replace(/[&amp;&lt;&gt;&quot;&#39;]/g, m=&gt;({ &#39;&amp;&#39;:&#39;&amp;amp;&#39;,&#39;&lt;&#39;:&#39;&amp;lt;&#39;,&#39;&gt;&#39;:&#39;&amp;gt;&#39;,&#39;&quot;&#39;:&#39;&amp;quot;&#39;,&quot;&#39;&quot;:&#39;&amp;#39;&#39; }[m])); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderCopy(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderCopy(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END COPY-CURSOR SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M9 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M10 START &bull; RUN (build 2025-10-29.11) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN RUN STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .run-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hint{font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END RUN STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN RUN SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 11;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // flat &#1103;&#1082; &#1088;&#1072;&#1085;&#1110;&#1096;&#1077;</span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; env: root.getAttribute(&#39;data-env&#39;)||&#39;local&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const raw=localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(raw)||{}; state=Object.assign(state, prev); state.v=STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.env) state.env=&#39;local&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1076;&#1083;&#1103; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; function runLocal(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1089;&#1090;&#1074;&#1086;&#1088;&#1080;&#1090;&#1080; &#1090;&#1072; &#1072;&#1082;&#1090;&#1080;&#1074;&#1091;&#1074;&#1072;&#1090;&#1080; venv&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;python -m venv .venv&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; (isWin()?&#39;.\\.venv\\Scripts\\activate&#39;:&#39;source .venv/bin/activate&#39;),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1087;&#1086;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1079;&#1072;&#1083;&#1077;&#1078;&#1085;&#1086;&#1089;&#1090;&#1110;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;pip install -r requirements.txt&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1089;&#1090;&#1074;&#1086;&#1088;&#1080;&#1090;&#1080; .env &#1079; &#1090;&#1086;&#1082;&#1077;&#1085;&#1086;&#1084;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;copy .env.example .env &nbsp;# &#1072;&#1073;&#1086; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091; (Mac/Linux: cp .env.example .env)&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39; &nbsp;# &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; .env &#1110; &#1074;&#1089;&#1090;&#1072;&#1074; TOKEN=123456:ABC...&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1079;&#1072;&#1087;&#1091;&#1089;&#1090;&#1080;&#1090;&#1080; &#1073;&#1086;&#1090;&#1072;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;python main.py&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function runCodes(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1091; &#1090;&#1077;&#1088;&#1084;&#1110;&#1085;&#1072;&#1083;&#1110; Codespaces&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;python --version&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1089;&#1090;&#1072;&#1074;&#1080;&#1084;&#1086; &#1079;&#1072;&#1083;&#1077;&#1078;&#1085;&#1086;&#1089;&#1090;&#1110;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;pip install -r requirements.txt&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1089;&#1090;&#1074;&#1086;&#1088;&#1102;&#1108;&#1084;&#1086; .env&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;cp .env.example .env&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39; &nbsp;# &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; .env &#1110; &#1074;&#1089;&#1090;&#1072;&#1074; TOKEN=123456:ABC...&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;# &#1089;&#1090;&#1072;&#1088;&#1090; &#1073;&#1086;&#1090;&#1072;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;python main.py&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function isWin(){ return navigator.platform &amp;&amp; /Win/.test(navigator.platform); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; async function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m10&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m10&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m10);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m10 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===nextKey);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(ni&gt;=0){ state.current=ni; save(); renderRun(true); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function openTroubles(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1074;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; &#1074;&#1072;&#1096; &#1091;&#1078;&#1077; &#1110;&#1089;&#1085;&#1091;&#1102;&#1095;&#1080;&#1081; &#1084;&#1086;&#1076;&#1072;&#1083; &#1090;&#1088;&#1072;&#1073;&#1083;&#1096;&#1091;&#1090;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const m = document.getElementById(&#39;gp-troubles-modal&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const back = document.getElementById(&#39;gp-backdrop&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(m &amp;&amp; back){ m.style.display=&#39;flex&#39;; m.setAttribute(&#39;aria-hidden&#39;,&#39;false&#39;); back.style.display=&#39;block&#39;; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; else { alert(&#39;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1088;&#1086;&#1079;&#1076;&#1110;&#1083; &quot;&#1058;&#1088;&#1072;&#1073;&#1083;&#1096;&#1091;&#1090;&#1110;&#1085;&#1075;&quot; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderRun(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const key = getKey();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(key!==&#39;run&#39; &amp;&amp; key!==&#39;troubles&#39;) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#1072;&#1108;&#1084;&#1086; &#1073;&#1086;&#1090;&#1072;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1091; &#1089;&#1074;&#1110;&#1081; &#1090;&#1077;&#1088;&#1084;&#1110;&#1085;&#1072;&#1083;. &#1071;&#1082;&#1097;&#1086; &#1097;&#1086;&#1089;&#1100; &#1085;&#1077; &#1090;&#1072;&#1082; &mdash; &ldquo;&#1053;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&rdquo; &rarr; &#1058;&#1088;&#1072;&#1073;&#1083;&#1096;&#1091;&#1090;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1080;&#1073;&#1088;&#1072;&#1090;&#1080; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const cmds = (state.env===&#39;codespaces&#39;) ? runCodes() : runLocal();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn run-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1076;&#1083;&#1103; ${state.env===&#39;codespaces&#39;?&#39;Codespaces&#39;:&#39;Local&#39;}&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m10-cmds&quot;&gt;${cmds}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m10-copy&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1074;&#1089;&#1110; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m10-troubles&quot;&gt;&#1053;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108; &mdash; &#1058;&#1088;&#1072;&#1073;&#1083;&#1096;&#1091;&#1090;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1055;&#1110;&#1089;&#1083;&#1103; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091; &#1085;&#1072;&#1087;&#1080;&#1096;&#1080; &#1091; Telegram &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091; &lt;code&gt;/start&lt;/code&gt; &mdash; &#1073;&#1086;&#1090; &#1084;&#1072;&#1108; &#1074;&#1110;&#1076;&#1087;&#1086;&#1074;&#1110;&#1089;&#1090;&#1080;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1044;&#1072;&#1083;&#1110;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1050;&#1086;&#1083;&#1080; &#1073;&#1086;&#1090; &#1089;&#1090;&#1072;&#1088;&#1090;&#1091;&#1108; &#1073;&#1077;&#1079; &#1087;&#1086;&#1084;&#1080;&#1083;&#1086;&#1082; &mdash; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086;&#1076;&#1072;&#1090;&#1080; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1091; BotFather.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m10-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; BotFather&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // bind</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m10-copy&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(cmds));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m10-troubles&#39;)?.addEventListener(&#39;click&#39;, openTroubles);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m10-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; markDoneAndGo(&#39;bf-commands&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderRun(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderRun(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END RUN SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M10 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M11 START &bull; BOTFATHER &amp; TEST (build 2025-10-29.12) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN BF/TEST STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .bf-wrap, #gp-panel .test-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .listy{display:grid;grid-template-columns:1fr;gap:6px;margin-top:6px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .li{display:flex;gap:8px;align-items:flex-start}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .li .i{width:18px;height:18px;border:1px solid var(--line);border-radius:4px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; display:inline-flex;align-items:center;justify-content:center;font-size:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hint{font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END BF/TEST STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN BF/TEST SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 12;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;0 &middot; &#1057;&#1090;&#1072;&#1088;&#1090;&#39;, items:[{t:&#39;&#1055;&#1086;&#1095;&#1072;&#1090;&#1080;&#39;, b:&#39;welcome&#39;},{t:&#39;&#1071;&#1082; &#1094;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;&#39;, b:&#39;guide&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;1 &middot; &#1040;&#1085;&#1082;&#1077;&#1090;&#1072;&#39;, items:[{t:&#39;&#1047;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080;&#1090;&#1080; 5 &#1087;&#1086;&#1083;&#1110;&#1074;&#39;, b:&#39;form&#39;},{t:&#39;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1080;&#1090;&#1080; &#1072;&#1085;&#1082;&#1077;&#1090;&#1091;&#39;, b:&#39;confirm&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;2 &middot; &#1056;&#1077;&#1078;&#1080;&#1084;&#39;, items:[{t:&#39;AUTO&#39;, b:&#39;auto&#39;},{t:&#39;ASSISTED&#39;, b:&#39;assisted&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;3 &middot; &#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1086;&#1088;&#39;, items:[{t:&#39;&#1058;&#1080;&#1087; / &#1052;&#1086;&#1076;&#1091;&#1083;&#1110;&#39;, b:&#39;chips&#39;},{t:&#39;&#1044;&#1072;&#1085;&#1110; / &#1030;&#1085;&#1090;&#1077;&#1075;&#1088;&#1072;&#1094;&#1110;&#1111;&#39;, b:&#39;storage/integrations&#39;},{t:&#39;&#1041;&#1077;&#1082;&#1077;&#1085;&#1076; (&#1086;&#1087;&#1094;.) / &#1056;&#1110;&#1074;&#1077;&#1085;&#1100;&#39;, b:&#39;backend/level&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;4 &middot; &#1054;&#1075;&#1083;&#1103;&#1076;&#39;, items:[{t:&#39;DEV BRIEF (EN)&#39;, b:&#39;brief&#39;},{t:&#39;CURSOR PROMPT (EN)&#39;, b:&#39;prompt&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;5 &middot; &#1057;&#1077;&#1088;&#1077;&#1076;&#1086;&#1074;&#1080;&#1097;&#1077;&#39;, items:[{t:&#39;Local vs Codespaces&#39;, b:&#39;env&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;6 &middot; &#1030;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1080; / Files&#39;, items:[{t:&#39;&#1042;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080;/&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080;&#39;, b:&#39;tools&#39;},{t:&#39;&#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1092;&#1072;&#1081;&#1083;&#1110;&#1074;&#39;, b:&#39;files&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;7 &middot; &#1042;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080; &#1091; Cursor&#39;, items:[{t:&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#39;, b:&#39;copy-cursor&#39;},{t:&#39;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&#39;, b:&#39;cursor-how&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;8 &middot; &#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#39;, items:[{t:&#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1091;&#39;, b:&#39;run&#39;},{t:&#39;&#1028; &#1087;&#1088;&#1086;&#1073;&#1083;&#1077;&#1084;&#1072;&#39;, b:&#39;troubles&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;9 &middot; BotFather&#39;, items:[{t:&#39;/setcommands&#39;, b:&#39;bf-commands&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;10 &middot; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&#39;, items:[{t:&#39;/start /help&#39;, b:&#39;test&#39;}]},</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; mode: root.getAttribute(&#39;data-mode&#39;)||&#39;auto&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; theme: root.getAttribute(&#39;data-theme&#39;)||&#39;light&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;, ruLink:&#39;&#39;, current:0, done:[], filter:&#39;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; env: root.getAttribute(&#39;data-env&#39;)||&#39;local&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done, /skip, /stats, /tips&#39;, lang:&#39;uk&#39;, channel:&#39;DM&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; type:&#39;&#39;, modules:[], data:&#39;json&#39;, integrations:[], backend:&#39;none&#39;, level:&#39;L1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; assistedBrief:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const raw=localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(raw)||{}; state=Object.assign(state, prev); state.v=STATE_VERSION;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.env) state.env=&#39;local&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.profile) state.profile={};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.profile.cmds) state.profile.cmds=&#39;/start, /help&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){ return (flat[state.current]||flat[0]).key; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // ---- &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1094;&#1110;&#1103; /setcommands</span></p><p class="c0"><span class="c1">&nbsp; function parseCmds(raw){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return (raw||&#39;&#39;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; .split(/[,\n]/).map(s=&gt;s.trim()).filter(Boolean)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; .map(s=&gt; s.startsWith(&#39;/&#39;)? s : &#39;/&#39;+s);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function defaultDesc(cmd){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const map = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/start&#39;:&#39;&#1047;&#1072;&#1087;&#1091;&#1089;&#1082; &#1090;&#1072; &#1087;&#1088;&#1080;&#1074;&#1110;&#1090;&#1072;&#1085;&#1085;&#1103;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/help&#39;:&#39;&#1055;&#1110;&#1076;&#1082;&#1072;&#1079;&#1082;&#1080; &#1087;&#1086; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072;&#1084;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/add&#39;:&#39;&#1044;&#1086;&#1076;&#1072;&#1090;&#1080; &#1079;&#1072;&#1087;&#1080;&#1089;/&#1090;&#1072;&#1089;&#1082;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/list&#39;:&#39;&#1055;&#1086;&#1082;&#1072;&#1079;&#1072;&#1090;&#1080; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/done&#39;:&#39;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/skip&#39;:&#39;&#1055;&#1088;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;&#1090;&#1080;/&#1074;&#1110;&#1076;&#1082;&#1083;&#1072;&#1089;&#1090;&#1080;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/stats&#39;:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072; &#1079;&#1072; 7/30 &#1076;&#1085;&#1110;&#1074;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/tips&#39;:&#39;&#1055;&#1086;&#1088;&#1072;&#1076;&#1080;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;/panic&#39;:&#39;&#1064;&#1074;&#1080;&#1076;&#1082;&#1072; &#1076;&#1086;&#1087;&#1086;&#1084;&#1086;&#1075;&#1072;&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; };</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return map[cmd] || &#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function makeSetCommands(cmdsStr){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const cmds = parseCmds(cmdsStr);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const lines = cmds.map(c =&gt; `${c} - ${defaultDesc(c)}`);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return lines.join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function whereSetCommands(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&#39;1) &#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; @BotFather&#39;,</span></p><p class="c0"><span class="c1">&#39;2) &#1053;&#1072;&#1090;&#1080;&#1089;&#1085;&#1080; /setcommands &rarr; &#1086;&#1073;&#1077;&#1088;&#1080; &#1089;&#1074;&#1086;&#1075;&#1086; &#1073;&#1086;&#1090;&#1072;&#39;,</span></p><p class="c0"><span class="c1">&#39;3) &#1042;&#1089;&#1090;&#1072;&#1074; &#1079;&#1075;&#1077;&#1085;&#1077;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1081; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076; &#1110; &#1085;&#1072;&#1076;&#1110;&#1096;&#1083;&#1080;&#39;,</span></p><p class="c0"><span class="c1">&#39;4) &#1055;&#1077;&#1088;&#1077;&#1079;&#1072;&#1087;&#1091;&#1089;&#1090;&#1080; &#1082;&#1083;&#1110;&#1108;&#1085;&#1090; Telegram (&#1072;&#1073;&#1086; &#1079;&#1072;&#1095;&#1077;&#1082;&#1072;&#1081; 1&ndash;2 &#1093;&#1074;), &#1097;&#1086;&#1073; &#1079;&#700;&#1103;&#1074;&#1080;&#1083;&#1080;&#1089;&#1103; &#1087;&#1110;&#1076;&#1082;&#1072;&#1079;&#1082;&#1080;&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1085;&#1085;&#1103;/&#1090;&#1086;&#1089;&#1090;</span></p><p class="c0"><span class="c1">&nbsp; async function copyText(txt){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(navigator.clipboard &amp;&amp; window.isSecureContext){ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }catch(e){}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }catch(e){ alert(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1074;&#1088;&#1091;&#1095;&#1085;&#1091;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m11&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m11&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m11);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m11 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function markDoneAndGo(nextKey){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = state.current;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!state.done.includes(idx)) state.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ni = flat.findIndex(x=&gt;x.key===nextKey);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(ni&gt;=0){ state.current=ni; save(); renderBF(true); renderTest(true); }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // ---- RENDER: BotFather</span></p><p class="c0"><span class="c1">&nbsp; function renderBF(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(getKey()!==&#39;bf-commands&#39;) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;BotFather: &#1076;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1047;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1081; /setcommands &#1110; &#1074;&#1089;&#1090;&#1072;&#1074; &#1091; @BotFather. &#1055;&#1110;&#1089;&#1083;&#1103; &mdash; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086; &#1090;&#1077;&#1089;&#1090;&#1091;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1080;&#1073;&#1088;&#1072;&#1090;&#1080; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const setCmds = makeSetCommands(state.profile.cmds||&#39;/start, /help&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn bf-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;/setcommands (${(state.profile.lang||&#39;uk&#39;).toUpperCase()})&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m11-commands&quot;&gt;${setCmds}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m11-copy&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; /setcommands&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m11-open-bf&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; BotFather&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m11-how&quot;&gt;&#1044;&#1077; &#1094;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1055;&#1086;&#1088;&#1072;&#1076;&#1072;: &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1110; &#1086;&#1087;&#1080;&#1089;&#1080; &#1087;&#1088;&#1072;&#1094;&#1102;&#1102;&#1090;&#1100; &#1082;&#1088;&#1072;&#1097;&#1077; (&#1076;&#1086; ~40 &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1110;&#1074;).&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1044;&#1072;&#1083;&#1110;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1050;&#1086;&#1083;&#1080; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1096; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &#1074; BotFather &mdash; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086; &#1087;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1080; &#1074; Telegram.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m11-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1076;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m11-copy&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; copyText(setCmds));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m11-open-bf&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://t.me/BotFather&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m11-how&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; alert(whereSetCommands()));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m11-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; markDoneAndGo(&#39;test&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // ---- RENDER: Test</span></p><p class="c0"><span class="c1">&nbsp; function testChecklist(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#1053;&#1072;&#1076;&#1110;&#1089;&#1083;&#1072;&#1090;&#1080; /start &rarr; &#1086;&#1090;&#1088;&#1080;&#1084;&#1072;&#1090;&#1080; &#1087;&#1088;&#1080;&#1074;&#1110;&#1090;&#1072;&#1085;&#1085;&#1103; (&#1073;&#1077;&#1079; &#1087;&#1086;&#1084;&#1080;&#1083;&#1086;&#1082; &#1091; &#1082;&#1086;&#1085;&#1089;&#1086;&#1083;&#1110;)&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#1053;&#1072;&#1076;&#1110;&#1089;&#1083;&#1072;&#1090;&#1080; /help &rarr; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087;&#1085;&#1080;&#1093; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; /add &#1110; /list (&#1103;&#1082;&#1097;&#1086; &#1076;&#1086;&#1076;&#1072;&#1085;&#1110;) &#1074;&#1110;&#1076;&#1087;&#1086;&#1074;&#1110;&#1076;&#1072;&#1102;&#1090;&#1100; &#1073;&#1077;&#1079; &#1087;&#1072;&#1076;&#1110;&#1085;&#1100;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&#1041;&#1086;&#1090; &#1086;&#1085;&#1083;&#1072;&#1081;&#1085; &ge; 2 &#1093;&#1074; (&#1073;&#1077;&#1079; Traceback &#1091; &#1090;&#1077;&#1088;&#1084;&#1110;&#1085;&#1072;&#1083;&#1110;)&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].map((t,i)=&gt;`&lt;div class=&quot;li&quot;&gt;&lt;span class=&quot;i&quot;&gt;${i+1}&lt;/span&gt;&lt;div&gt;${t}&lt;/div&gt;&lt;/div&gt;`).join(&#39;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function renderTest(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(getKey()!==&#39;test&#39;) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;); const desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1082;&#1072; &#1073;&#1086;&#1090;&#1072;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1055;&#1077;&#1088;&#1077;&#1082;&#1086;&#1085;&#1072;&#1081;&#1089;&#1103;, &#1097;&#1086; /start &#1110; /help &#1087;&#1088;&#1072;&#1094;&#1102;&#1102;&#1090;&#1100;, &#1072; &#1073;&#1086;&#1090; &#1085;&#1077; &#1087;&#1072;&#1076;&#1072;&#1108;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1095;&#1080;&#1089;&#1090;&#1080;&#1090;&#1080; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn test-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1065;&#1086; &#1087;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088;&#1103;&#1108;&#1084;&#1086;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;listy&quot;&gt;${testChecklist()}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m11-open-telegram&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; Telegram Web&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m11-troubles&quot;&gt;&#1053;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108; &mdash; &#1058;&#1088;&#1072;&#1073;&#1083;&#1096;&#1091;&#1090;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1071;&#1082;&#1097;&#1086; &#1108; &#1087;&#1086;&#1084;&#1080;&#1083;&#1082;&#1072; &mdash; &#1089;&#1082;&#1086;&#1087;&#1110;&#1102;&#1081; &#1086;&#1089;&#1090;&#1072;&#1085;&#1085;&#1110; 50 &#1088;&#1103;&#1076;&#1082;&#1110;&#1074; &#1110;&#1079; &#1090;&#1077;&#1088;&#1084;&#1110;&#1085;&#1072;&#1083;&#1091; &#1090;&#1072; &#1074;&#1089;&#1090;&#1072;&#1074; &#1091; &ldquo;&#1053;&#1072;&#1074;&#1110;&#1075;&#1072;&#1090;&#1086;&#1088;&rdquo;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1060;&#1110;&#1085;&#1110;&#1096;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1042;&#1089;&#1077; &#1087;&#1088;&#1072;&#1094;&#1102;&#1108;? &#1055;&#1086;&#1083;&#1077;&#1090;&#1110;&#1083;&#1080; &#1074; &#1072;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;: UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;, &#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;, &#1054;&#1087;&#1083;&#1072;&#1090;&#1080;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m11-finish&quot;&gt;&#1060;&#1110;&#1085;&#1110;&#1096; &rarr; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1076;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m11-open-telegram&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(&#39;https://web.telegram.org/&#39;,&#39;_blank&#39;,&#39;noopener&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m11-troubles&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const m = document.getElementById(&#39;gp-troubles-modal&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const back = document.getElementById(&#39;gp-backdrop&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(m &amp;&amp; back){ m.style.display=&#39;flex&#39;; m.setAttribute(&#39;aria-hidden&#39;,&#39;false&#39;); back.style.display=&#39;block&#39;; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; else { alert(&#39;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &ldquo;&#1058;&#1088;&#1072;&#1073;&#1083;&#1096;&#1091;&#1090;&#1110;&#1085;&#1075;&rdquo; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m11-finish&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const iTest = flat.findIndex(x=&gt;x.key===&#39;test&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(iTest&gt;=0 &amp;&amp; !state.done.includes(iTest)) state.done.push(iTest);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); root.dispatchEvent(new CustomEvent(&#39;gp:markDone&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const up = flat.findIndex(x=&gt;x.key===&#39;upgrade-ui&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(up&gt;=0){ state.current=up; save(); renderBF(true); renderTest(true); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct = Math.round((state.done.length/flat.length)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(state.lang||&#39;uk&#39;).toUpperCase()}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderBF(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderTest(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1072;&#1089;&#1080;&#1074;&#1085;&#1080;&#1081; &#1088;&#1077;&#1089;&#1074;&#1110;&#1079;&#1080;&#1090; &#1087;&#1088;&#1080; &#1085;&#1072;&#1074;&#1110;&#1075;&#1072;&#1094;&#1110;&#1111; &#1089;&#1072;&#1081;&#1076;&#1073;&#1072;&#1088;&#1086;&#1084;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt;{ renderBF(false); renderTest(false); }, 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END BF/TEST SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M11 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M12 START &bull; UPGRADE: UI BUTTONS (build 2025-10-29.u1) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN UPGRADE UI STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .upui-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hint{font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chipset{display:flex;gap:6px;flex-wrap:wrap}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chip{border:1px solid var(--line);border-radius:999px;padding:6px 10px;cursor:pointer}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chip[aria-pressed=&quot;true&quot;]{background:var(--active-bg);border-color:var(--active-border)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .preview{display:inline-grid;grid-auto-flow:row;gap:6px;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .badge{display:inline-flex;gap:6px;align-items:center;border:1px dashed var(--line);border-radius:8px;padding:4px 8px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END UPGRADE UI STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN UPGRADE UI SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 1201;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const sections = [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; { title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}</span></p><p class="c0"><span class="c1">&nbsp; ];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ role:&#39;&#39;, goal:&#39;&#39;, cmds:&#39;/start, /help, /add, /list, /done&#39;, lang:&#39;uk&#39; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ui:{ kind:&#39;reply&#39;, layout:&#39;simple&#39;, emojis:true, confirmOnDone:true }</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const raw = localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev = JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1079;&#1073;&#1077;&#1088;&#1110;&#1075;&#1072;&#1108;&#1084;&#1086; &#1095;&#1091;&#1078;&#1110; &#1087;&#1086;&#1083;&#1103; (env, done, current &#1090;&#1086;&#1097;&#1086;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state = Object.assign({}, prev, { v: STATE_VERSION, ui: (prev.ui||state.ui), profile: Object.assign({}, state.profile, (prev.profile||{})) });</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev = JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const merged = Object.assign({}, prev, { v: STATE_VERSION, ui: state.ui, profile: state.profile });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; localStorage.setItem(STORE_KEY, JSON.stringify(merged));</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const all = (root.__flatAll || []).filter(Boolean);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = (JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;).current) ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return (all[idx]&amp;&amp;all[idx].key) || &#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // ---- &#1055;&#1088;&#1077;&#1089;&#1077;&#1090;&#1080; &#1084;&#1072;&#1082;&#1077;&#1090;&#1110;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; const PRESETS = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; reply: {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; simple: [&#39;&#9989; Done&#39;,&#39;&#10134; Skip&#39;,&#39;&#128202; Stats&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; compact: [&#39;&#9989;&#39;,&#39;&#10134;&#39;,&#39;&#128202;&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; extended: [&#39;&#9989; Done&#39;,&#39;&#10134; Skip&#39;,&#39;&#128202; Stats&#39;,&#39;&#10067; Help&#39;]</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; inline:{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; simple: [&#39;&#10133; Add&#39;,&#39;&#129534; List&#39;,&#39;&#9989; Done&#39;,&#39;&#128202; Stats&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; compact: [&#39;&#10133;&#39;,&#39;&#129534;&#39;,&#39;&#9989;&#39;,&#39;&#128202;&#39;],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; confirm: [&#39;&#9989; Done&#39;,&#39;&#8617;&#65039; Undo&#39;,&#39;&#8505;&#65039; Help&#39;]</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // ---- &#1043;&#1077;&#1085;&#1077;&#1088;&#1072;&#1094;&#1110;&#1103; PROMPT &#1076;&#1083;&#1103; Cursor</span></p><p class="c0"><span class="c1">&nbsp; function makePrompt(ui){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const kb = (ui.kind===&#39;reply&#39;) ? &#39;Reply Keyboard&#39; : &#39;Inline Keyboard&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const buttons = PRESETS[ui.kind][ui.layout] || [];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btnList = buttons.map(b=&gt;`- ${b}`).join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const lang = (state.profile.lang||&#39;uk&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Add ${kb} to existing aiogram v3 bot`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`1) Keep current features. Add ${kb} with these labels:`,</span></p><p class="c0"><span class="c1">btnList,</span></p><p class="c0"><span class="c1">`2) For /done require optional confirmation = ${ui.confirmOnDone?&#39;true&#39;:&#39;false&#39;}.`,</span></p><p class="c0"><span class="c1">`3) Messages must remain in ${lang}.`,</span></p><p class="c0"><span class="c1">`4) Return only code blocks (no prose).`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function updatePreview(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const p = $(&#39;#m12-preview&#39;); if(!p) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const s = state.ui;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const arr = PRESETS[s.kind][s.layout] || [];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; p.innerHTML = arr.map(x=&gt;`&lt;span class=&quot;badge&quot;&gt;${x}&lt;/span&gt;`).join(&#39; &#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderUI(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1082;&#1072;&#1079;&#1091;&#1108;&#1084;&#1086; &#1083;&#1080;&#1096;&#1077; &#1085;&#1072; &#1082;&#1088;&#1086;&#1094;&#1110; &#39;upgrade-ui&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const all = (root.__flatAll || []);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const current = JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;).current ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!(all[current] &amp;&amp; all[current].key===&#39;upgrade-ui&#39;)) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;), desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;: UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1054;&#1073;&#1077;&#1088;&#1080; &#1090;&#1080;&#1087; &#1110; &#1084;&#1072;&#1082;&#1077;&#1090; &#1082;&#1083;&#1072;&#1074;&#1110;&#1072;&#1090;&#1091;&#1088;&#1080;. &#1047;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1108;&#1084;&#1086; &#1075;&#1086;&#1090;&#1086;&#1074;&#1080;&#1081; PROMPT &#1076;&#1083;&#1103; Cursor.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1080;&#1073;&#1088;&#1072;&#1090;&#1080; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn upui-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;1) &#1058;&#1080;&#1087; &#1082;&#1083;&#1072;&#1074;&#1110;&#1072;&#1090;&#1091;&#1088;&#1080;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;chipset&quot; role=&quot;group&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;ui-kind-reply&quot; aria-pressed=&quot;${state.ui.kind===&#39;reply&#39;}&quot;&gt;Reply&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;ui-kind-inline&quot; aria-pressed=&quot;${state.ui.kind===&#39;inline&#39;}&quot;&gt;Inline&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot; style=&quot;margin-top:6px&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reply &mdash; &#1074;&#1077;&#1083;&#1080;&#1082;&#1110; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1087;&#1110;&#1076; &#1087;&#1086;&#1083;&#1077;&#1084; &#1074;&#1074;&#1086;&#1076;&#1091;. Inline &mdash; &#1084;&#1072;&#1083;&#1077;&#1085;&#1100;&#1082;&#1110; &#1087;&#1110;&#1076; &#1087;&#1086;&#1074;&#1110;&#1076;&#1086;&#1084;&#1083;&#1077;&#1085;&#1085;&#1103;&#1084;.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;2) &#1052;&#1072;&#1082;&#1077;&#1090;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;chipset&quot; role=&quot;group&quot; id=&quot;m12-layouts&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;preview&quot; id=&quot;m12-preview&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;3) &#1055;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1080;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&lt;input type=&quot;checkbox&quot; id=&quot;ui-emojis&quot; ${state.ui.emojis?&#39;checked&#39;:&#39;&#39;}&gt; &#1044;&#1086;&#1076;&#1072;&#1074;&#1072;&#1090;&#1080; &#1077;&#1084;&#1086;&#1076;&#1079;&#1110;&lt;/label&gt;&lt;br&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&lt;input type=&quot;checkbox&quot; id=&quot;ui-confirm&quot; ${state.ui.confirmOnDone?&#39;checked&#39;:&#39;&#39;}&gt; &#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1078;&#1077;&#1085;&#1085;&#1103; &#1087;&#1088;&#1080; &ldquo;Done&rdquo;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1055;&#1110;&#1076;&#1090;&#1074;&#1077;&#1088;&#1076;&#1078;&#1077;&#1085;&#1085;&#1103; &#1079;&#1085;&#1080;&#1078;&#1091;&#1108; &#1074;&#1080;&#1087;&#1072;&#1076;&#1082;&#1086;&#1074;&#1110; &#1085;&#1072;&#1090;&#1080;&#1089;&#1082;&#1072;&#1085;&#1085;&#1103;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;4) PROMPT &#1076;&#1083;&#1103; Cursor&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;m12-prompt&quot;&gt;${makePrompt(state.ui)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;m12-copy&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; PROMPT&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m12-where&quot;&gt;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1044;&#1072;&#1083;&#1110;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1043;&#1086;&#1090;&#1086;&#1074;&#1086;? &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1089;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1091; (/stats) &mdash; &#1087;&#1088;&#1086;&#1089;&#1090;&#1110; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;-&#1073;&#1072;&#1088;&#1080; 7/30.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;m12-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; &#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1073;&#1091;&#1076;&#1091;&#1074;&#1072;&#1090;&#1080; &#1084;&#1072;&#1082;&#1077;&#1090;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function renderLayouts(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const box = $(&#39;#m12-layouts&#39;); if(!box) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const keys = Object.keys(PRESETS[state.ui.kind]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; box.innerHTML = keys.map(k=&gt;`&lt;button class=&quot;chip&quot; data-layout=&quot;${k}&quot; aria-pressed=&quot;${state.ui.layout===k}&quot;&gt;${k}&lt;/button&gt;`).join(&#39;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; box.querySelectorAll(&#39;.chip&#39;).forEach(ch=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ch.addEventListener(&#39;click&#39;,()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; state.ui.layout = ch.getAttribute(&#39;data-layout&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; save(); renderLayouts(); updatePreview();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $(&#39;#m12-prompt&#39;).textContent = makePrompt(state.ui);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // bind &#1090;&#1080;&#1087;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#ui-kind-reply&#39;)?.addEventListener(&#39;click&#39;,()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.ui.kind=&#39;reply&#39;; state.ui.layout = state.ui.layout in PRESETS.reply ? state.ui.layout : &#39;simple&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderUI(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#ui-kind-inline&#39;)?.addEventListener(&#39;click&#39;,()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.ui.kind=&#39;inline&#39;; state.ui.layout = state.ui.layout in PRESETS.inline ? state.ui.layout : &#39;simple&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); renderUI(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // bind &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#ui-emojis&#39;)?.addEventListener(&#39;change&#39;,e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.ui.emojis = !!e.target.checked; save(); $(&#39;#m12-prompt&#39;).textContent = makePrompt(state.ui);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#ui-confirm&#39;)?.addEventListener(&#39;change&#39;,e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.ui.confirmOnDone = !!e.target.checked; save(); $(&#39;#m12-prompt&#39;).textContent = makePrompt(state.ui);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1082;&#1085;&#1086;&#1087;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m12-copy&#39;)?.addEventListener(&#39;click&#39;, async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; await (async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; await navigator.clipboard.writeText($(&#39;#m12-prompt&#39;).textContent); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }catch(e){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const ta=document.createElement(&#39;textarea&#39;); ta.value=$(&#39;#m12-prompt&#39;).textContent; document.body.appendChild(ta); ta.select();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try{ document.execCommand(&#39;copy&#39;); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }finally{ document.body.removeChild(ta); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; })();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m12-where&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; alert(&#39;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1095;&#1072;&#1090; &#1091; Cursor (Cmd/Ctrl+I) &rarr; &#1074;&#1089;&#1090;&#1072;&#1074; PROMPT &rarr; &#1085;&#1072;&#1076;&#1110;&#1096;&#1083;&#1080;. &#1055;&#1086;&#1075;&#1086;&#1076;&#1078;&#1091;&#1081; &#1079;&#1084;&#1110;&#1085;&#1080; &#1091; &#1092;&#1072;&#1081;&#1083;&#1072;&#1093;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#m12-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const store=JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(store.done)) store.done=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const all = root.__flatAll||[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idx = store.current ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!store.done.includes(idx)) store.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1087;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1085;&#1072; upgrade-stats</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const to = all.findIndex(x=&gt;x.key===&#39;upgrade-stats&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(to&gt;=0) store.current = to;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; localStorage.setItem(STORE_KEY, JSON.stringify(store));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; toast(&#39;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1086;. &#1055;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086; &#1089;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1080;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1110;&#1085;&#1110;&#1094;&#1110;&#1072;&#1083;&#1110;&#1079;&#1072;&#1094;&#1110;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderLayouts();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; updatePreview();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m12&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m12&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m12);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m12 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1110;&#1076;&#1093;&#1086;&#1087;&#1083;&#1102;&#1108;&#1084;&#1086; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1080;&#1081; flat &#1079; &#1073;&#1072;&#1079;&#1086;&#1074;&#1086;&#1075;&#1086; &#1084;&#1086;&#1076;&#1091;&#1083;&#1103;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!root.__flatAll){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1079;&#1073;&#1077;&#1088;&#1077;&#1084;&#1086; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1080;&#1081; flat &#1079;&#1110; &#1074;&#1089;&#1110;&#1093; &#1089;&#1077;&#1082;&#1094;&#1110;&#1081;, &#1103;&#1082;&#1097;&#1086; &#1073;&#1072;&#1079;&#1086;&#1074;&#1080;&#1081; &#1085;&#1077; &#1079;&#1072;&#1087;&#1080;&#1089;&#1072;&#1074;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const base = JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; root.__flatAll = (base.flat||[]); // &#1103;&#1082;&#1097;&#1086; &#1108;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderUI(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderUI(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END UPGRADE UI SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M12 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M13 START &bull; UPGRADE: STATS (build 2025-10-29.u2) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN UPGRADE STATS STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .upstats-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hint{font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chipset{display:flex;gap:6px;flex-wrap:wrap}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chip{border:1px solid var(--line);border-radius:999px;padding:6px 10px;cursor:pointer}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chip[aria-pressed=&quot;true&quot;]{background:var(--active-bg);border-color:var(--active-border)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .inputline{display:flex;gap:8px;align-items:center;flex-wrap:wrap}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .inputline input{padding:8px 10px;border:1px solid var(--line);border-radius:10px;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .demo{font:12px/1.6 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END UPGRADE STATS STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN UPGRADE STATS SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 1302;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const sections=[{ title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; lang:&#39;uk&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ lang:&#39;uk&#39; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; stats:{ mode:&#39;count&#39;, period:7, metric:&#39;&#1042;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1100;&#39;, asciiWidth:20 }</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const raw=localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state = Object.assign(state, prev.stats? { stats: Object.assign(state.stats, prev.stats) } : {}, { v: STATE_VERSION });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1110;&#1076;&#1093;&#1086;&#1087;&#1083;&#1102;&#1108;&#1084;&#1086; &#1084;&#1086;&#1074;&#1091; &#1087;&#1088;&#1086;&#1092;&#1110;&#1083;&#1102; &#1103;&#1082;&#1097;&#1086; &#1108;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(prev.profile &amp;&amp; prev.profile.lang) state.profile={ lang: prev.profile.lang };</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const merged=Object.assign({}, prev, { stats: state.stats });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; localStorage.setItem(STORE_KEY, JSON.stringify(merged));</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const all = (root.__flatAll || []);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx = (JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;).current) ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return (all[idx]&amp;&amp;all[idx].key) || &#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1087;&#1088;&#1086;&#1089;&#1090;&#1080;&#1081; ASCII-&#1073;&#1072;&#1088;</span></p><p class="c0"><span class="c1">&nbsp; function makeBar(pct,width){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const w = Math.max(10, Math.min(60, width||20));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const fill = Math.round(w * Math.max(0, Math.min(100, pct))/100);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return &#39;[&#39; + &#39;#&#39;.repeat(fill) + &#39;-&#39;.repeat(w-fill) + `] ${pct}%`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1076;&#1077;&#1084;&#1086; &#1087;&#1088;&#1077;&#1074;&rsquo;&#1102; (&#1088;&#1072;&#1085;&#1076;&#1086;&#1084;&#1085;&#1110; &#1076;&#1072;&#1085;&#1110; &#1076;&#1083;&#1103; &#1074;&#1080;&#1075;&#1083;&#1103;&#1076;&#1091;)</span></p><p class="c0"><span class="c1">&nbsp; function demoPreview(period, mode){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const days = period===30?30:7;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const arr = Array.from({length:days},()=&gt; Math.floor(Math.random()*100));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const nowPct = Math.floor((arr.reduce((a,b)=&gt;a+b,0) / (days*100)) * 100);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const streak = Math.floor(Math.random()*10)+1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const head = (mode===&#39;count&#39;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; ? `&#1052;&#1077;&#1090;&#1088;&#1080;&#1082;&#1072;: &#1082;&#1110;&#1083;&#1100;&#1082;&#1110;&#1089;&#1090;&#1100; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1100; &#1079;&#1072; ${days} &#1076;&#1085;&#1110;&#1074;`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; : `&#1052;&#1077;&#1090;&#1088;&#1080;&#1082;&#1072;: &#1089;&#1077;&#1088;&#1110;&#1103; (streak) &#1079;&#1072; ${days} &#1076;&#1085;&#1110;&#1074;`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const line = makeBar(nowPct, state.stats.asciiWidth);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return head + &#39;\n&#39; + line + (mode===&#39;streak&#39;?`\nCurrent streak: ${streak}`:&#39;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // PROMPT &#1076;&#1083;&#1103; Cursor</span></p><p class="c0"><span class="c1">&nbsp; function makePrompt(stats){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const lang = (state.profile.lang||&#39;uk&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const period = stats.period===30?30:7;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const mode = stats.mode===&#39;streak&#39;?&#39;streak&#39;:&#39;count&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Add /stats to existing aiogram v3 bot`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`1) Add command /stats that returns text-based progress for the last ${period} days.`,</span></p><p class="c0"><span class="c1">`2) Metric mode: ${mode} (${mode===&#39;count&#39;?&#39;sum of completed actions per day&#39;:&#39;longest/current streak of consecutive days with success&#39;}).`,</span></p><p class="c0"><span class="c1">`3) Render ASCII progress bar with width ${stats.asciiWidth} chars.`,</span></p><p class="c0"><span class="c1">`4) Keep messages in ${lang}.`,</span></p><p class="c0"><span class="c1">`5) Keep existing features and commands; no breaking changes.`,</span></p><p class="c0"><span class="c1">`6) Return only code blocks (no prose).`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderStats(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1086;&#1082;&#1072;&#1079;&#1091;&#1108;&#1084;&#1086; &#1083;&#1080;&#1096;&#1077; &#1085;&#1072; &#1082;&#1088;&#1086;&#1094;&#1110; &#39;upgrade-stats&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const all = (root.__flatAll || []);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const current = JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;).current ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!(all[current] &amp;&amp; all[current].key===&#39;upgrade-stats&#39;)) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main = root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title = $(&#39;#gp-title&#39;), desc = $(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent = &#39;&#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;: &#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072; (/stats)&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent = &#39;&#1054;&#1073;&#1077;&#1088;&#1080; &#1084;&#1077;&#1090;&#1088;&#1080;&#1082;&#1091; &#1110; &#1087;&#1077;&#1088;&#1110;&#1086;&#1076;. &#1047;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1108;&#1084;&#1086; PROMPT &mdash; Cursor &#1076;&#1086;&#1076;&#1072;&#1089;&#1090;&#1100; &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1110; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;-&#1073;&#1072;&#1088;&#1080; 7/30.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1080;&#1073;&#1088;&#1072;&#1090;&#1080; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap = document.createElement(&#39;div&#39;); wrap.className=&#39;dyn upstats-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;1) &#1052;&#1077;&#1090;&#1088;&#1080;&#1082;&#1072;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;chipset&quot; role=&quot;group&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;st-mode-count&quot; aria-pressed=&quot;${state.stats.mode===&#39;count&#39;}&quot;&gt;&#1050;&#1110;&#1083;&#1100;&#1082;&#1110;&#1089;&#1090;&#1100; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1100;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;st-mode-streak&quot; aria-pressed=&quot;${state.stats.mode===&#39;streak&#39;}&quot;&gt;&#1057;&#1077;&#1088;&#1110;&#1103; (streak)&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&ldquo;&#1050;&#1110;&#1083;&#1100;&#1082;&#1110;&#1089;&#1090;&#1100;&rdquo; &mdash; &#1089;&#1082;&#1110;&#1083;&#1100;&#1082;&#1080; &#1088;&#1072;&#1079;&#1110;&#1074; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;. &ldquo;&#1057;&#1077;&#1088;&#1110;&#1103;&rdquo; &mdash; &#1089;&#1082;&#1110;&#1083;&#1100;&#1082;&#1080; &#1076;&#1085;&#1110;&#1074; &#1087;&#1110;&#1076;&#1088;&#1103;&#1076; &#1073;&#1077;&#1079; &#1087;&#1088;&#1086;&#1087;&#1091;&#1089;&#1082;&#1110;&#1074;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;2) &#1055;&#1077;&#1088;&#1110;&#1086;&#1076;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;chipset&quot; role=&quot;group&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;st-per-7&quot; aria-pressed=&quot;${state.stats.period===7}&quot;&gt;7 &#1076;&#1085;&#1110;&#1074;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;st-per-30&quot; aria-pressed=&quot;${state.stats.period===30}&quot;&gt;30 &#1076;&#1085;&#1110;&#1074;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;3) &#1055;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1080;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;inputline&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1053;&#1072;&#1079;&#1074;&#1072; &#1084;&#1077;&#1090;&#1088;&#1080;&#1082;&#1080;:&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;text&quot; id=&quot;st-metric&quot; placeholder=&quot;&#1042;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1100;&quot; value=&quot;${state.stats.metric||&#39;&#1042;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1100;&#39;}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1064;&#1080;&#1088;&#1080;&#1085;&#1072; ASCII:&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=&quot;number&quot; id=&quot;st-width&quot; min=&quot;10&quot; max=&quot;60&quot; step=&quot;1&quot; value=&quot;${state.stats.asciiWidth}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1064;&#1080;&#1088;&#1080;&#1085;&#1072; &mdash; &#1076;&#1086;&#1074;&#1078;&#1080;&#1085;&#1072; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;-&#1073;&#1072;&#1088;&#1091; &#1091; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1072;&#1093; (# &#1110; -).&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;4) &#1055;&#1088;&#1077;&#1074;&#700;&#1102;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd demo&quot; id=&quot;st-preview&quot;&gt;${demoPreview(state.stats.period, state.stats.mode)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;5) PROMPT &#1076;&#1083;&#1103; Cursor&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;st-prompt&quot;&gt;${makePrompt(state.stats)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;st-copy&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; PROMPT&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;st-where&quot;&gt;&#1044;&#1077; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1090;&#1080;?&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1044;&#1072;&#1083;&#1110;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1043;&#1086;&#1090;&#1086;&#1074;&#1086;? &#1055;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086; &#1086;&#1087;&#1083;&#1072;&#1090; (Telegram Stars/Stripe/Fondy) &mdash; &#1079;&#1072; &#1073;&#1072;&#1078;&#1072;&#1085;&#1085;&#1103;&#1084;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;st-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; &#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // binds</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-mode-count&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{ state.stats.mode=&#39;count&#39;; save(); renderStats(true); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-mode-streak&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{ state.stats.mode=&#39;streak&#39;; save(); renderStats(true); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-per-7&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{ state.stats.period=7; save(); renderStats(true); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-per-30&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{ state.stats.period=30; save(); renderStats(true); });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-metric&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.stats.metric = e.target.value || &#39;&#1042;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1100;&#39;; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-width&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; let v = parseInt(e.target.value||20,10); v = isNaN(v)?20:Math.max(10,Math.min(60,v));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; state.stats.asciiWidth = v; save();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#st-preview&#39;).textContent = demoPreview(state.stats.period, state.stats.mode);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; $(&#39;#st-prompt&#39;).textContent = makePrompt(state.stats);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-copy&#39;)?.addEventListener(&#39;click&#39;, async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const txt = $(&#39;#st-prompt&#39;).textContent;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; catch(e){ const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select(); document.execCommand(&#39;copy&#39;); document.body.removeChild(ta); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-where&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; alert(&#39;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1081; &#1095;&#1072;&#1090; &#1091; Cursor (Cmd/Ctrl+I) &rarr; &#1074;&#1089;&#1090;&#1072;&#1074; PROMPT &rarr; &#1085;&#1072;&#1076;&#1110;&#1096;&#1083;&#1080;. &#1055;&#1086;&#1075;&#1086;&#1076;&#1100; &#1079;&#1084;&#1110;&#1085;&#1080; &#1091; &#1092;&#1072;&#1081;&#1083;&#1072;&#1093;.&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const store=JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(store.done)) store.done=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const all = root.__flatAll||[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idx = store.current ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!store.done.includes(idx)) store.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const to = all.findIndex(x=&gt;x.key===&#39;upgrade-pay&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(to&gt;=0) store.current = to;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; localStorage.setItem(STORE_KEY, JSON.stringify(store));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; toast(&#39;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1086;. &#1055;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086; &#1086;&#1087;&#1083;&#1072;&#1090;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1085;&#1086;&#1074;&#1083;&#1102;&#1108;&#1084;&#1086; &#1087;&#1088;&#1077;&#1074;&#700;&#1102;/&#1087;&#1088;&#1086;&#1084;&#1087;&#1090; &#1087;&#1088;&#1080; &#1087;&#1077;&#1088;&#1096;&#1086;&#1084;&#1091; &#1088;&#1077;&#1085;&#1076;&#1077;&#1088;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-preview&#39;).textContent = demoPreview(state.stats.period, state.stats.mode);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#st-prompt&#39;).textContent = makePrompt(state.stats);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m13&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m13&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m13);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m13 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!root.__flatAll){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const base = JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; root.__flatAll = (base.flat||[]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderStats(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderStats(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END UPGRADE STATS SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M13 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M14 START &bull; UPGRADE: PAYMENTS (build 2025-10-29.u3) --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN UPGRADE PAY STYLES --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .uppay-wrap{display:grid;grid-template-columns:1fr;gap:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .card{border:1px solid var(--line);border-radius:12px;padding:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hint{font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .kbd{margin-top:8px;border:1px solid var(--line);border-radius:10px;padding:10px;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; font:12px/1.5 ui-monospace,SFMono-Regular,Menlo,monospace;white-space:pre-wrap;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chipset{display:flex;gap:6px;flex-wrap:wrap}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chip{border:1px solid var(--line);border-radius:999px;padding:6px 10px;cursor:pointer}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .chip[aria-pressed=&quot;true&quot;]{background:var(--active-bg);border-color:var(--active-border)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}</span></p><p class="c0"><span class="c1">&nbsp; @media(max-width:980px){#gp-panel .grid2{grid-template-columns:1fr}}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .input{display:flex;flex-direction:column;gap:6px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .input input{padding:8px 10px;border:1px solid var(--line);border-radius:10px;background:transparent;color:var(--text)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .badge{display:inline-flex;gap:6px;align-items:center;border:1px dashed var(--line);border-radius:8px;padding:4px 8px}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END UPGRADE PAY STYLES --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;!-- GP:BEGIN UPGRADE PAY SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root = document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0"><span class="c1">&nbsp; const STORE_KEY = &#39;gpPanel_state_m0&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const STATE_VERSION = 1403;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const sections=[{ title:&#39;11 &middot; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086; / &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080;&#39;, items:[{t:&#39;UI-&#1082;&#1085;&#1086;&#1087;&#1082;&#1080;&#39;, b:&#39;upgrade-ui&#39;},{t:&#39;&#1057;&#1090;&#1072;&#1090;&#1080;&#1089;&#1090;&#1080;&#1082;&#1072;&#39;, b:&#39;upgrade-stats&#39;},{t:&#39;&#1054;&#1087;&#1083;&#1072;&#1090;&#1080;&#39;, b:&#39;upgrade-pay&#39;}]}];</span></p><p class="c0"><span class="c1">&nbsp; const flat=[]; sections.forEach((s,si)=&gt;s.items.forEach((it,idx)=&gt;flat.push({si,idx,key:it.b,title:it.t,sec:s.title})));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; let state = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; v: STATE_VERSION,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; profile:{ lang:&#39;uk&#39; },</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; pay:{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; provider:&#39;stars&#39;, &nbsp; // &#39;stars&#39; | &#39;stripe&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; currency:&#39;USD&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; price:&#39;5.00&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; planName:&#39;Pro Upgrade&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // Stars</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; tg_app_name:&#39;&#39;, &nbsp; &nbsp; // &#1085;&#1072;&#1079;&#1074;&#1072; &#1084;&#1110;&#1085;&#1110;-&#1072;&#1087;&#1082;&#1080;/&#1073;&#1086;&#1090;&#1072;, &#1103;&#1082;&#1097;&#1086; &#1090;&#1088;&#1077;&#1073;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // Stripe/Fondy</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; stripe_pk:&#39;&#39;, stripe_sk:&#39;&#39;, success_url:&#39;https://example.com/success&#39;, cancel_url:&#39;https://example.com/cancel&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; fondy_merchant_id:&#39;&#39;, fondy_secret:&#39;&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; };</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function load(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const raw=localStorage.getItem(STORE_KEY); if(!raw) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(raw)||{};</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; state = Object.assign(state, { v: STATE_VERSION }, prev.pay? { pay:Object.assign(state.pay, prev.pay) } : {});</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function save(){ try{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const prev=JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const merged=Object.assign({}, prev, { pay: state.pay });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; localStorage.setItem(STORE_KEY, JSON.stringify(merged));</span></p><p class="c0"><span class="c1">&nbsp; }catch(e){} }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; const $ = s =&gt; root.querySelector(s);</span></p><p class="c0"><span class="c1">&nbsp; function getKey(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const all=(root.__flatAll||[]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const idx=(JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;).current) ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return (all[idx]&amp;&amp;all[idx].key) || &#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // ---- &#1063;&#1077;&#1082;-&#1083;&#1080;&#1089;&#1090; &#1074;&#1077;&#1073;&#1093;&#1091;&#1082;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; function webhookChecklist(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const usingStars = state.pay.provider===&#39;stars&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; usingStars ? &#39;&bull; &#1059; Bot Settings &#1074;&#1082;&#1083;&#1102;&#1095;&#1080; Payments/Stars &#1091; BotFather (&#1103;&#1082;&#1097;&#1086; &#1079;&#1072;&#1089;&#1090;&#1086;&#1089;&#1086;&#1074;&#1085;&#1086;).&#39; : &#39;&bull; &#1057;&#1090;&#1074;&#1086;&#1088;&#1080; Stripe/Fondy &#1084;&#1077;&#1088;&#1095;&#1072;&#1085;&#1090; &#1110; &#1086;&#1090;&#1088;&#1080;&#1084;&#1072;&#1081; &#1082;&#1083;&#1102;&#1095;&#1110;.&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1057;&#1090;&#1074;&#1086;&#1088;&#1080; endpoint &#1091; &#1082;&#1086;&#1076;&#1110; (/payment_webhook).&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1042;&#1082;&#1072;&#1078;&#1080; URL &#1074;&#1077;&#1073;&#1093;&#1091;&#1082;&#1072; &#1091; &#1087;&#1088;&#1086;&#1074;&#1072;&#1081;&#1076;&#1077;&#1088;&#1110; (ngrok/&#1074;&#1072;&#1096; &#1076;&#1086;&#1084;&#1077;&#1085;).&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1055;&#1077;&#1088;&#1077;&#1074;&#1110;&#1088; &#1087;&#1110;&#1076;&#1087;&#1080;&#1089; (&#1089;&#1077;&#1082;&#1088;&#1077;&#1090;) &#1110; &#1086;&#1073;&#1088;&#1086;&#1073;&#1083;&#1103;&#1081; &#1089;&#1090;&#1072;&#1090;&#1091;&#1089;&#1080;: created &rarr; paid &rarr; failed/refund.&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &#39;&bull; &#1047;&#1072;&#1085;&#1086;&#1089;&#1100; &#1087;&#1086;&#1082;&#1091;&#1087;&#1082;&#1091; &#1074; &#1083;&#1086;&#1082;&#1072;&#1083;&#1100;&#1085;&#1091; &#1041;&#1044;/JSON (user_id, &#1090;&#1086;&#1074;&#1072;&#1088;, &#1089;&#1091;&#1084;&#1072;, &#1095;&#1072;&#1089;).&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // ---- PROMPT &#1076;&#1083;&#1103; Cursor</span></p><p class="c0"><span class="c1">&nbsp; function makePrompt(pay){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const lang = (state.profile.lang||&#39;uk&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(pay.provider===&#39;stars&#39;){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Add Telegram Stars payments`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`1) Add module payments.py for Telegram Stars (aiogram v3).`,</span></p><p class="c0"><span class="c1">`2) Add /buy command and &quot;Upgrade&quot; button; create invoice (amount=${pay.price} ${pay.currency}, title=&quot;${pay.planName}&quot;).`,</span></p><p class="c0"><span class="c1">`3) Implement webhook/updates handler to mark user as premium on successful payment.`,</span></p><p class="c0"><span class="c1">`4) ENV: TG_BOT_TOKEN (already), OPTIONAL: APP_NAME=${pay.tg_app_name||&#39;my_app&#39;}, PRICE=${pay.price}, CURRENCY=${pay.currency}.`,</span></p><p class="c0"><span class="c1">`5) Persist purchases in a local JSON (data/purchases.json).`,</span></p><p class="c0"><span class="c1">`6) Messages must remain in ${lang}.`,</span></p><p class="c0"><span class="c1">`7) Return only code blocks (no prose).`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // stripe/fondy</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return [</span></p><p class="c0"><span class="c1">`[CHAT 2 | PROGRAMMER] CURRENT STEP: Add card payments (${pay.provider===&#39;stripe&#39;?&#39;Stripe&#39;:&#39;Fondy&#39;})`,</span></p><p class="c0"><span class="c1">`TERMINAL&gt; none`,</span></p><p class="c0"><span class="c1">`CODE&gt; none`,</span></p><p class="c0"><span class="c1">`INSTRUCTION:`,</span></p><p class="c0"><span class="c1">`1) Add payments.py with endpoints: /create_checkout and /payment_webhook.`,</span></p><p class="c0"><span class="c1">`2) /buy command returns payment URL (Checkout) for plan &quot;${pay.planName}&quot; at ${pay.price} ${pay.currency}.`,</span></p><p class="c0"><span class="c1">`3) ENV for Stripe: STRIPE_PK=${pay.stripe_pk||&#39;pk_live_...&#39;}, STRIPE_SK=${pay.stripe_sk||&#39;sk_live_...&#39;}, SUCCESS_URL=${pay.success_url}, CANCEL_URL=${pay.cancel_url}.`,</span></p><p class="c0"><span class="c1">` &nbsp; ENV for Fondy: FONDY_MERCHANT_ID=${pay.fondy_merchant_id||&#39;xxxx&#39;}, FONDY_SECRET=${pay.fondy_secret||&#39;xxxx&#39;}.`,</span></p><p class="c0"><span class="c1">`4) On webhook &quot;paid&quot; &rarr; mark user premium; save purchase to data/purchases.json (user_id, plan, amount, ts).`,</span></p><p class="c0"><span class="c1">`5) Messages in ${lang}; keep existing bot features; no breaking changes.`,</span></p><p class="c0"><span class="c1">`6) Return only code blocks (no prose).`</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ].join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function providerDocUrl(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; return state.pay.provider===&#39;stars&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; ? &#39;https://core.telegram.org/bots/payments&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; : (state.pay.provider===&#39;stripe&#39; ? &#39;https://stripe.com/docs/payments/checkout&#39; : &#39;https://fondy.io/en/docs/&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function renderPay(force){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; load();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const all=(root.__flatAll||[]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const current=(JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;).current) ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!(all[current] &amp;&amp; all[current].key===&#39;upgrade-pay&#39;)) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const main=root.querySelector(&#39;.main&#39;); if(!main) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const title=$(&#39;#gp-title&#39;), desc=$(&#39;#gp-desc&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; title &amp;&amp; (title.textContent=&#39;&#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;: &#1054;&#1087;&#1083;&#1072;&#1090;&#1080; (&#1086;&#1087;&#1094;&#1110;&#1081;&#1085;&#1086;)&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; desc &amp;&amp; (desc.textContent=&#39;&#1054;&#1073;&#1077;&#1088;&#1080; &#1087;&#1088;&#1086;&#1074;&#1072;&#1081;&#1076;&#1077;&#1088;&#1072;, &#1079;&#1072;&#1087;&#1086;&#1074;&#1085;&#1080; &#1082;&#1083;&#1102;&#1095;&#1110;, &#1079;&#1075;&#1077;&#1085;&#1077;&#1088;&#1091;&#1081; PROMPT &mdash; Cursor &#1076;&#1086;&#1076;&#1072;&#1089;&#1090;&#1100; &#1084;&#1086;&#1076;&#1091;&#1083;&#1100; &#1086;&#1087;&#1083;&#1072;&#1090;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1087;&#1088;&#1080;&#1073;&#1088;&#1072;&#1090;&#1080; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1082;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.querySelectorAll(&#39;.dyn&#39;).forEach(n=&gt;n.remove());</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const wrap=document.createElement(&#39;div&#39;); wrap.className=&#39;dyn uppay-wrap&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; wrap.innerHTML = `</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;1) &#1055;&#1088;&#1086;&#1074;&#1072;&#1081;&#1076;&#1077;&#1088;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;chipset&quot; role=&quot;group&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;pay-stars&quot; aria-pressed=&quot;${state.pay.provider===&#39;stars&#39;}&quot;&gt;Telegram Stars&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;chip&quot; id=&quot;pay-stripe&quot; aria-pressed=&quot;${state.pay.provider===&#39;stripe&#39;}&quot;&gt;Stripe/Fondy&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;Stars &mdash; &#1085;&#1072;&#1090;&#1080;&#1074;&#1085;&#1110; &#1087;&#1083;&#1072;&#1090;&#1077;&#1078;&#1110; Telegram. Stripe/Fondy &mdash; &#1082;&#1083;&#1072;&#1089;&#1080;&#1095;&#1085;&#1110; &#1082;&#1072;&#1088;&#1090;&#1082;&#1080;/Apple Pay/Google Pay (&#1095;&#1077;&#1088;&#1077;&#1079; Checkout).&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;2) &#1053;&#1072;&#1083;&#1072;&#1096;&#1090;&#1091;&#1074;&#1072;&#1085;&#1085;&#1103;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;grid2&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;input&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1053;&#1072;&#1079;&#1074;&#1072; &#1087;&#1083;&#1072;&#1085;&#1091;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;pay-plan&quot; type=&quot;text&quot; value=&quot;${state.pay.planName}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;input&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1062;&#1110;&#1085;&#1072;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;pay-price&quot; type=&quot;text&quot; value=&quot;${state.pay.price}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;input&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;&#1042;&#1072;&#1083;&#1102;&#1090;&#1072;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;pay-cur&quot; type=&quot;text&quot; value=&quot;${state.pay.currency}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;input&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;${state.pay.provider===&#39;stars&#39;?&#39;Telegram App Name (&#1086;&#1087;&#1094;.)&#39;:&#39;Success URL&#39;}&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;pay-extra1&quot; type=&quot;text&quot; value=&quot;${state.pay.provider===&#39;stars&#39;? (state.pay.tg_app_name||&#39;&#39;) : state.pay.success_url}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;input&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;${state.pay.provider===&#39;stars&#39;?&#39;(Stars &mdash; &#1110;&#1085;&#1096;&#1077; &#1087;&#1086;&#1083;&#1077; &#1085;&#1077; &#1087;&#1086;&#1090;&#1088;&#1110;&#1073;&#1085;&#1077;)&#39;:&#39;Cancel URL&#39;}&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;pay-extra2&quot; type=&quot;text&quot; ${state.pay.provider===&#39;stars&#39;?&#39;disabled&#39;:&#39;&#39;} value=&quot;${state.pay.cancel_url}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;input&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;${state.pay.provider===&#39;stripe&#39;?&#39;Stripe PK&#39;:&#39;Fondy merchant id&#39;}&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;pay-k1&quot; type=&quot;text&quot; value=&quot;${state.pay.provider===&#39;stripe&#39;?state.pay.stripe_pk:state.pay.fondy_merchant_id}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;input&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label&gt;${state.pay.provider===&#39;stripe&#39;?&#39;Stripe SK&#39;:&#39;Fondy secret&#39;}&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;pay-k2&quot; type=&quot;text&quot; value=&quot;${state.pay.provider===&#39;stripe&#39;?state.pay.stripe_sk:state.pay.fondy_secret}&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1047;&#1072;&#1083;&#1080;&#1096; &#1103;&#1082; &#1108;, &#1103;&#1082;&#1097;&#1086; &#1090;&#1110;&#1083;&#1100;&#1082;&#1080; &#1076;&#1077;&#1084;&#1086;. &#1057;&#1087;&#1088;&#1072;&#1074;&#1078;&#1085;&#1110; &#1082;&#1083;&#1102;&#1095;&#1110; &#1087;&#1110;&#1076;&#1089;&#1090;&#1072;&#1074;&#1080;&#1096; &#1091; .env &#1087;&#1110;&#1079;&#1085;&#1110;&#1096;&#1077;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;3) &#1042;&#1077;&#1073;&#1093;&#1091;&#1082; &mdash; &#1097;&#1086; &#1079;&#1088;&#1086;&#1073;&#1080;&#1090;&#1080;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot;&gt;${webhookChecklist()}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=&quot;badge&quot;&gt;&#1055;&#1110;&#1076;&#1082;&#1072;&#1079;&#1082;&#1072;: &#1076;&#1083;&#1103; &#1083;&#1086;&#1082;&#1072;&#1083;&#1091; &#1074;&#1080;&#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1072;&#1081; ngrok &rarr; HTTPS URL&lt;/span&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;4) PROMPT &#1076;&#1083;&#1103; Cursor&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;kbd&quot; id=&quot;pay-prompt&quot;&gt;${makePrompt(state.pay)}&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn primary&quot; id=&quot;pay-copy&quot;&gt;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1074;&#1072;&#1090;&#1080; PROMPT&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;pay-doc&quot;&gt;&#1042;&#1110;&#1076;&#1082;&#1088;&#1080;&#1090;&#1080; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1110;&#1102;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;card&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;&#1060;&#1110;&#1085;&#1110;&#1096;&lt;/b&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;hint&quot;&gt;&#1055;&#1110;&#1089;&#1083;&#1103; &#1074;&#1087;&#1088;&#1086;&#1074;&#1072;&#1076;&#1078;&#1077;&#1085;&#1085;&#1103; &#1086;&#1087;&#1083;&#1072;&#1090; &mdash; &#1090;&#1074;&#1110;&#1081; &#1073;&#1086;&#1090; &#1075;&#1086;&#1090;&#1086;&#1074;&#1080;&#1081; &#1076;&#1086; &#1084;&#1086;&#1085;&#1077;&#1090;&#1080;&#1079;&#1072;&#1094;&#1110;&#1111;. &#1044;&#1072;&#1083;&#1110; &mdash; &#1076;&#1088;&#1110;&#1073;&#1085;&#1110; &#1087;&#1088;&#1072;&#1074;&#1082;&#1080;/&#1073;&#1088;&#1077;&#1085;&#1076;&#1080;&#1085;&#1075;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;row&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button class=&quot;btn&quot; id=&quot;pay-done&quot;&gt;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1080; &#1103;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &rarr; &#1043;&#1086;&#1090;&#1086;&#1074;&#1086;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; `;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; main.appendChild(wrap);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // binds</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-stars&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{ state.pay.provider=&#39;stars&#39;; save(); renderPay(true); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-stripe&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{ state.pay.provider=&#39;stripe&#39;; save(); renderPay(true); });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-plan&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{ state.pay.planName=e.target.value; save(); $(&#39;#pay-prompt&#39;).textContent = makePrompt(state.pay); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-price&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{ state.pay.price=e.target.value; save(); $(&#39;#pay-prompt&#39;).textContent = makePrompt(state.pay); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-cur&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{ state.pay.currency=e.target.value; save(); $(&#39;#pay-prompt&#39;).textContent = makePrompt(state.pay); });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-extra1&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(state.pay.provider===&#39;stars&#39;){ state.pay.tg_app_name=e.target.value; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; else { state.pay.success_url=e.target.value; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); $(&#39;#pay-prompt&#39;).textContent = makePrompt(state.pay);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-extra2&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(state.pay.provider!==&#39;stars&#39;){ state.pay.cancel_url=e.target.value; save(); $(&#39;#pay-prompt&#39;).textContent = makePrompt(state.pay); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-k1&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(state.pay.provider===&#39;stripe&#39;){ state.pay.stripe_pk=e.target.value; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; else { state.pay.fondy_merchant_id=e.target.value; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); $(&#39;#pay-prompt&#39;).textContent = makePrompt(state.pay);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-k2&#39;)?.addEventListener(&#39;input&#39;, e=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(state.pay.provider===&#39;stripe&#39;){ state.pay.stripe_sk=e.target.value; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; else { state.pay.fondy_secret=e.target.value; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; save(); $(&#39;#pay-prompt&#39;).textContent = makePrompt(state.pay);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-copy&#39;)?.addEventListener(&#39;click&#39;, async()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const txt = $(&#39;#pay-prompt&#39;).textContent;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; try{ await navigator.clipboard.writeText(txt); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; catch(e){ const ta=document.createElement(&#39;textarea&#39;); ta.value=txt; document.body.appendChild(ta); ta.select(); document.execCommand(&#39;copy&#39;); document.body.removeChild(ta); toast(&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1081;&#1086;&#1074;&#1072;&#1085;&#1086;.&#39;); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-doc&#39;)?.addEventListener(&#39;click&#39;, ()=&gt; window.open(providerDocUrl(), &#39;_blank&#39;, &#39;noopener&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; $(&#39;#pay-done&#39;)?.addEventListener(&#39;click&#39;, ()=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const store=JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!Array.isArray(store.done)) store.done=[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const all = root.__flatAll||[];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const idx = store.current ?? 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if(!store.done.includes(idx)) store.done.push(idx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1087;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1076;&#1086; &quot;&#1043;&#1086;&#1090;&#1086;&#1074;&#1086;&quot; (&#1087;&#1077;&#1088;&#1096;&#1080;&#1081; &#1087;&#1091;&#1085;&#1082;&#1090; &#1089;&#1077;&#1082;&#1094;&#1110;&#1111; &#1072;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1110;&#1074; &#1072;&#1073;&#1086; &#1079;&#1072;&#1083;&#1080;&#1096;&#1080;&#1090;&#1080;&#1089;&#1100;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; localStorage.setItem(STORE_KEY, JSON.stringify(store));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; toast(&#39;&#1055;&#1086;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1086;. &#1040;&#1087;&#1169;&#1088;&#1077;&#1081;&#1076;&#1080; &#1079;&#1072;&#1074;&#1077;&#1088;&#1096;&#1077;&#1085;&#1086;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1086;&#1085;&#1086;&#1074;&#1080;&#1090;&#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110; (&#1103;&#1082;&#1097;&#1086; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1080;&#1081; &#1077;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090; &#1108;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const progressEl = $(&#39;#gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(progressEl){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const base=JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const done=(base.done||[]).length, total=(base.flat||[]).length||1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const pct=Math.round((done/total)*100)||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; progressEl.textContent = `${pct}% &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &middot; &#1084;&#1086;&#1074;&#1072;: ${(base.lang||&#39;uk&#39;).toUpperCase?.()||&#39;UK&#39;}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function toast(msg){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let t = root.querySelector(&#39;#gp-toast-m14&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!t){ t=document.createElement(&#39;div&#39;); t.id=&#39;gp-toast-m14&#39;; t.className=&#39;toast&#39;; t.style.display=&#39;none&#39;; root.appendChild(t); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; t.innerHTML = msg; t.style.display=&#39;block&#39;; clearTimeout(window.__gp_to_m14);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; window.__gp_to_m14 = setTimeout(()=&gt; t.style.display=&#39;none&#39;, 1600);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function init(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!root.__flatAll){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const base = JSON.parse(localStorage.getItem(STORE_KEY)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; root.__flatAll = (base.flat||[]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; renderPay(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setInterval(()=&gt; renderPay(false), 400);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; init();</span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:END UPGRADE PAY SCRIPT --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M14 END --&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M15 START &bull; POLISH (build 2025-10-29.p1) --&gt;</span></p><p class="c0"><span class="c1">&lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; /* &#1052;&#1086;&#1073;&#1110;&#1083;&#1100;&#1085;&#1110; &#1076;&#1088;&#1110;&#1073;&#1085;&#1080;&#1094;&#1110; + &#1082;&#1088;&#1072;&#1097;&#1110; &#1090;&#1072;&#1087;-&#1079;&#1086;&#1085;&#1080; */</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .btn{ align-items:center; gap:8px; }</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .btn .ico{ font-style:normal; font-size:14px; }</span></p><p class="c0"><span class="c1">&nbsp; @media (max-width:780px){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .top{ position:sticky; top:0; z-index:9; background:var(--bg); padding:8px 0; border-bottom:1px solid var(--line) }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .btn{ padding:10px 12px; border-radius:12px }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .qbtn{ padding:8px 12px; border-radius:999px }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; #gp-panel .kbd{ font-size:11px }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; /* &#1061;&#1110;&#1085;&#1090;&#1080; &#1087;&#1110;&#1076; &#1082;&#1085;&#1086;&#1087;&#1082;&#1072;&#1084;&#1080; */</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hintline{display:flex;gap:8px;align-items:center;margin-top:6px;color:var(--muted);font-size:12px}</span></p><p class="c0"><span class="c1">&nbsp; #gp-panel .hintline .dot{width:6px;height:6px;border-radius:50%;background:var(--muted);opacity:.6}</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; /* &#1052;&#1110;&#1085;&#1110;-&#1076;&#1072;&#1096;&#1073;&#1086;&#1088;&#1076; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110; */</span></p><p class="c0"><span class="c1">&nbsp; #gp-pulse{display:inline-flex;gap:10px;align-items:center;border:1px dashed var(--line);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; border-radius:999px;padding:6px 10px;margin-left:6px;font-size:12px;color:var(--muted)}</span></p><p class="c0"><span class="c1">&nbsp; #gp-pulse b{color:var(--text)}</span></p><p class="c0"><span class="c1">&lt;/style&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&lt;script&gt;</span></p><p class="c0"><span class="c1">(function(){</span></p><p class="c0"><span class="c1">&nbsp; const root=document.getElementById(&#39;gp-panel&#39;); if(!root) return;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; /* ===== &#1040;&#1053;&#1040;&#1051;&#1030;&#1058;&#1048;&#1050;&#1040; (&#1076;&#1091;&#1078;&#1077; &#1087;&#1088;&#1086;&#1089;&#1090;&#1072;, &#1073;&#1077;&#1079; &#1084;&#1077;&#1088;&#1077;&#1078;&#1110;) ===== */</span></p><p class="c0"><span class="c1">&nbsp; const AKEY=&#39;gpPanel_analytics_v1&#39;;</span></p><p class="c0"><span class="c1">&nbsp; const an = loadA();</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function loadA(){ try{ return JSON.parse(localStorage.getItem(AKEY)||&#39;{}&#39;); }catch(e){ return {}; } }</span></p><p class="c0"><span class="c1">&nbsp; function saveA(){ try{ localStorage.setItem(AKEY, JSON.stringify(an)); }catch(e){} }</span></p><p class="c0"><span class="c1">&nbsp; function inc(path){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // path &#1090;&#1080;&#1087;&#1091; &quot;click.copy_prompt&quot; &#1072;&#1073;&#1086; &quot;step.done&quot; &#1072;&#1073;&#1086; &quot;modal.troubles&quot;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const now = Date.now();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; an.__last = now;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const seg = path.split(&#39;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let ref = an;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; for(const s of seg){ if(!ref[s]) ref[s]={}; ref=ref[s]; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ref._n = (ref._n||0)+1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; saveA();</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; // &#1089;&#1083;&#1091;&#1093;&#1072;&#1095;&#1110; &#1079; &#1073;&#1072;&#1079;&#1086;&#1074;&#1080;&#1093; &#1084;&#1086;&#1076;&#1091;&#1083;&#1110;&#1074; (&#1082;&#1086;&#1083;&#1080; &#1082;&#1086;&#1088;&#1080;&#1089;&#1090;&#1091;&#1074;&#1072;&#1095; &#1087;&#1086;&#1079;&#1085;&#1072;&#1095;&#1072;&#1108; &#1082;&#1088;&#1086;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1080;&#1084;)</span></p><p class="c0"><span class="c1">&nbsp; root.addEventListener(&#39;gp:markDone&#39;, ()=&gt; inc(&#39;step.done&#39;));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1087;&#1083;&#1102;&#1108;&#1084;&#1086; &#1082;&#1083;&#1110;&#1082;&#1080; &#1085;&#1072; &#1082;&#1083;&#1102;&#1095;&#1086;&#1074;&#1080;&#1093; &#1082;&#1085;&#1086;&#1087;&#1082;&#1072;&#1093; (&#1076;&#1077;&#1083;&#1077;&#1075;&#1091;&#1074;&#1072;&#1085;&#1085;&#1103;)</span></p><p class="c0"><span class="c1">&nbsp; document.addEventListener(&#39;click&#39;, (e)=&gt;{</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const id = (e.target.closest(&#39;button&#39;)||{}).id||&#39;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!id) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(/copy|m9-copy|m10-copy|st-copy|pay-copy|gp-copy/.test(id)) inc(&#39;click.copy_prompt&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(/open|m11-open-telegram|m11-open-bf|m9-open-chat/.test(id)) inc(&#39;click.open&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(/done|m9-done|m10-done|m11-done|st-done|pay-done/.test(id)) inc(&#39;click.done&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(/troubles|gp-troubles/.test(id)) inc(&#39;modal.troubles&#39;);</span></p><p class="c0"><span class="c1">&nbsp; });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; /* ===== &#1055;&#1059;&#1051;&#1068;&#1057; &#1055;&#1056;&#1054;&#1043;&#1056;&#1045;&#1057;&#1059; &#1074; &#1096;&#1072;&#1087;&#1094;&#1110; ===== */</span></p><p class="c0"><span class="c1">&nbsp; ensurePulse();</span></p><p class="c0"><span class="c1">&nbsp; renderPulse(); // &#1086;&#1076;&#1088;&#1072;&#1079;&#1091;</span></p><p class="c0"><span class="c1">&nbsp; // &#1086;&#1085;&#1086;&#1074;&#1083;&#1102;&#1108;&#1084;&#1086; &#1087;&#1088;&#1080; &#1082;&#1086;&#1078;&#1085;&#1086;&#1084;&#1091; &#1082;&#1083;&#1110;&#1082;&#1091;/&#1079;&#1073;&#1077;&#1088;&#1077;&#1078;&#1077;&#1085;&#1085;&#1110;</span></p><p class="c0"><span class="c1">&nbsp; setInterval(renderPulse, 1000);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; function ensurePulse(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const top = root.querySelector(&#39;.switch&#39;); if(!top) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(!document.getElementById(&#39;gp-pulse&#39;)){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const span = document.createElement(&#39;span&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; span.id=&#39;gp-pulse&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; span.innerHTML = `&lt;span class=&quot;ico&quot;&gt;&#128200;&lt;/span&gt;&lt;span&gt;&#1055;&#1091;&#1083;&#1100;&#1089;: &lt;b id=&quot;gp-pulse-done&quot;&gt;0&lt;/b&gt;/&lt;span id=&quot;gp-pulse-total&quot;&gt;0&lt;/span&gt; &middot; CTR &#1082;&#1086;&#1087;&#1110;&#1081;: &lt;b id=&quot;gp-pulse-ctr&quot;&gt;0%&lt;/b&gt;&lt;/span&gt;`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#1076;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1076;&#1086; &#1087;&#1077;&#1088;&#1096;&#1086;&#1111; &#1075;&#1088;&#1091;&#1087;&#1080; &#1091; &#1096;&#1072;&#1087;&#1094;&#1110; (&#1087;&#1086;&#1088;&#1091;&#1095; &#1110;&#1079; &#1087;&#1088;&#1086;&#1075;&#1088;&#1077;&#1089;&#1086;&#1084;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const prog = document.getElementById(&#39;gp-progress&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; (prog &amp;&amp; prog.parentNode) ? prog.parentNode.appendChild(span) : top.appendChild(span);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function renderPulse(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const store = JSON.parse(localStorage.getItem(&#39;gpPanel_v3_hotfix&#39;)||&#39;{}&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const done = (store.done||[]).length||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const total = (store.flat||[]).length||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const copyN = (((an||{}).click||{}).copy_prompt||{})._n||0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const openN = (((an||{}).click||{}).open||{})._n||1; // &#1097;&#1086;&#1073; &#1085;&#1077; &#1076;&#1110;&#1083;&#1080;&#1083;&#1080; &#1085;&#1072; 0</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const ctr = Math.min(100, Math.round( (copyN/openN)*100 ));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setText(&#39;#gp-pulse-done&#39;, done);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setText(&#39;#gp-pulse-total&#39;, total);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; setText(&#39;#gp-pulse-ctr&#39;, ctr+&#39;%&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; function setText(sel, val){ const el=document.querySelector(sel); if(el) el.textContent=val; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; /* ===== &#1052;&#1030;&#1050;&#1056;&#1054;&#1058;&#1045;&#1050;&#1057;&#1058;&#1048; / &#1030;&#1050;&#1054;&#1053;&#1050;&#1048; (&#1073;&#1077;&#1079; &#1083;&#1086;&#1084;&#1091; &#1110;&#1089;&#1085;&#1091;&#1102;&#1095;&#1086;&#1075;&#1086; UI) ===== */</span></p><p class="c0"><span class="c1">&nbsp; // 1) &#1044;&#1086;&#1076;&#1072;&#1108;&#1084;&#1086; &#1087;&#1110;&#1076;&#1082;&#1072;&#1079;&#1082;&#1080; &#1087;&#1110;&#1076; &#1082;&#1083;&#1102;&#1095;&#1086;&#1074;&#1110; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080;, &#1103;&#1082;&#1097;&#1086; &#1111;&#1093; &#1097;&#1077; &#1085;&#1077;&#1084;&#1072;&#1108;</span></p><p class="c0"><span class="c1">&nbsp; function hintUnder(btnSel, text){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btn = root.querySelector(btnSel); if(!btn) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1103;&#1082;&#1097;&#1086; &#1074;&#1078;&#1077; &#1108; &#1087;&#1110;&#1076;&#1082;&#1072;&#1079;&#1082;&#1072; &#1087;&#1086;&#1088;&#1091;&#1095; &mdash; &#1085;&#1077; &#1076;&#1091;&#1073;&#1083;&#1102;&#1108;&#1084;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(btn.nextElementSibling &amp;&amp; btn.nextElementSibling.classList &amp;&amp; btn.nextElementSibling.classList.contains(&#39;hintline&#39;)) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const line = document.createElement(&#39;div&#39;); line.className=&#39;hintline&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; line.innerHTML = `&lt;span class=&quot;dot&quot;&gt;&lt;/span&gt;&lt;span&gt;${text}&lt;/span&gt;`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btn.parentNode &amp;&amp; btn.parentNode.appendChild(line);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; // 2) &#1051;&#1077;&#1075;&#1082;&#1110; &#1077;&#1084;&#1086;&#1076;&#1079;&#1110;-&#1110;&#1082;&#1086;&#1085;&#1080; &#1076;&#1086; &#1090;&#1077;&#1082;&#1089;&#1090;&#1091; &#1082;&#1085;&#1086;&#1087;&#1086;&#1082; (&#1083;&#1080;&#1096;&#1077; &#1103;&#1082;&#1097;&#1086; &#1085;&#1077;&#1084;&#1072;&#1108; &#1074;&#1089;&#1077;&#1088;&#1077;&#1076;&#1080;&#1085;&#1110; svg)</span></p><p class="c0"><span class="c1">&nbsp; function addIcon(btnSel, emoji){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btn = root.querySelector(btnSel); if(!btn) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(btn.querySelector(&#39;svg&#39;)) return; // &#1085;&#1077; &#1095;&#1110;&#1087;&#1072;&#1108;&#1084;&#1086; &#1074;&#1072;&#1096;&#1110; svg</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if(btn.querySelector(&#39;.ico&#39;)) return; // &#1074;&#1078;&#1077; &#1076;&#1086;&#1076;&#1072;&#1085;&#1086;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const span = document.createElement(&#39;span&#39;); span.className=&#39;ico&#39;; span.textContent=emoji;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btn.insertBefore(span, btn.firstChild);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1030;&#1053;&#1030;&#1062;&#1030;&#1040;&#1051;&#1068;&#1053;&#1040; &#1044;&#1054;&#1055;&#1054;&#1051;&#1030;&#1056;&#1054;&#1042;&#1050;&#1040; (&#1079; &#1087;&#1086;&#1074;&#1072;&#1075;&#1086;&#1102; &#1076;&#1086; &#1074;&#1078;&#1077; &#1110;&#1089;&#1085;&#1091;&#1102;&#1095;&#1086;&#1075;&#1086; DOM)</span></p><p class="c0"><span class="c1">&nbsp; function polishPass(){</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1064;&#1072;&#1087;&#1082;&#1072;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-guide-open&#39;,&#39;&#128216;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-help&#39;,&#39;&#10067;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-troubles&#39;,&#39;&#128736;&#65039;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-toggle&#39;,&#39;&#128450;&#65039;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-settings&#39;,&#39;&#9881;&#65039;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-reset&#39;,&#39;&#9851;&#65039;&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1043;&#1086;&#1083;&#1086;&#1074;&#1085;&#1110; &#1088;&#1086;&#1073;&#1086;&#1095;&#1110; &#1076;&#1110;&#1111;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-copy1&#39;,&#39;&#128203;&#39;); addIcon(&#39;#gp-copy2&#39;,&#39;&#128203;&#39;); addIcon(&#39;#gp-copy-both&#39;,&#39;&#128209;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#gp-open&#39;,&#39;&#128279;&#39;); &nbsp;addIcon(&#39;#gp-done&#39;,&#39;&#9989;&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1055;&#1110;&#1076;&#1082;&#1072;&#1079;&#1082;&#1080; &#1087;&#1110;&#1076; &#1085;&#1072;&#1081;&#1082;&#1088;&#1080;&#1090;&#1080;&#1095;&#1085;&#1110;&#1096;&#1110; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; hintUnder(&#39;#gp-copy-both&#39;,&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1108; &#1086;&#1073;&#1080;&#1076;&#1074;&#1072; &#1087;&#1088;&#1086;&#1084;&#1087;&#1090;&#1080; &#1086;&#1076;&#1088;&#1072;&#1079;&#1091;. &#1042;&#1089;&#1090;&#1072;&#1074; &#1091; Chat1/Chat2.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; hintUnder(&#39;#gp-done&#39;,&#39;&#1071;&#1082;&#1097;&#1086; &#1082;&#1088;&#1086;&#1082; &#1074;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086; &#1081; &#1074;&#1089;&#1077; &#1086;&#1082; &mdash; &#1090;&#1080;&#1089;&#1085;&#1080; &ldquo;&#1042;&#1080;&#1082;&#1086;&#1085;&#1072;&#1085;&#1086;&rdquo;.&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; hintUnder(&#39;#gp-troubles&#39;,&#39;&#1053;&#1072;&#1081;&#1095;&#1072;&#1089;&#1090;&#1110;&#1096;&#1110; &#1092;&#1077;&#1081;&#1083;&#1080;: &#1074;&#1110;&#1076;&#1089;&#1091;&#1090;&#1085;&#1110;&#1081; .env, &#1085;&#1077;&#1072;&#1082;&#1090;&#1080;&#1074;&#1085;&#1080;&#1081; venv, &#1079;&#1072;&#1073;&#1091;&#1090;&#1080;&#1081; pip install.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // &#1045;&#1082;&#1088;&#1072;&#1085;&#1080; M9&ndash;M14 (&#1103;&#1082;&#1097;&#1086; &#1087;&#1088;&#1080;&#1089;&#1091;&#1090;&#1085;&#1110;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#m9-copy-prompt&#39;,&#39;&#128203;&#39;); addIcon(&#39;#m9-copy-both&#39;,&#39;&#128209;&#39;); addIcon(&#39;#m9-open-chat&#39;,&#39;&#128172;&#39;); addIcon(&#39;#m9-done&#39;,&#39;&#9989;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; hintUnder(&#39;#m9-copy-prompt&#39;,&#39;&#1042;&#1089;&#1090;&#1072;&#1074; &#1091; &#1095;&#1072;&#1090; Cursor, &#1097;&#1086; &#1087;&#1088;&#1080;&#1074;&rsquo;&#1103;&#1079;&#1072;&#1085;&#1080;&#1081; &#1076;&#1086; &#1087;&#1072;&#1087;&#1082;&#1080; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#m10-copy&#39;,&#39;&#128203;&#39;); addIcon(&#39;#m10-troubles&#39;,&#39;&#128736;&#65039;&#39;); addIcon(&#39;#m10-done&#39;,&#39;&#9989;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; hintUnder(&#39;#m10-copy&#39;,&#39;&#1057;&#1082;&#1086;&#1087;&#1110;&#1102;&#1108; &#1074;&#1089;&#1110; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1080; &mdash; &#1074;&#1089;&#1090;&#1072;&#1074; &#1091; &#1089;&#1074;&#1110;&#1081; &#1090;&#1077;&#1088;&#1084;&#1110;&#1085;&#1072;&#1083;.&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#m11-copy&#39;,&#39;&#128203;&#39;); addIcon(&#39;#m11-open-bf&#39;,&#39;&#129302;&#39;); addIcon(&#39;#m11-done&#39;,&#39;&#9989;&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#m12-copy&#39;,&#39;&#128203;&#39;); addIcon(&#39;#m12-done&#39;,&#39;&#9989;&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#st-copy&#39;,&#39;&#128203;&#39;); addIcon(&#39;#st-done&#39;,&#39;&#9989;&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; addIcon(&#39;#pay-copy&#39;,&#39;&#128203;&#39;); addIcon(&#39;#pay-doc&#39;,&#39;&#128218;&#39;); addIcon(&#39;#pay-done&#39;,&#39;&#9989;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; // &#1088;&#1072;&#1079;&#1086;&#1074;&#1086; &#1110; &#1076;&#1072;&#1083;&#1110; &#1087;&#1077;&#1088;&#1110;&#1086;&#1076;&#1080;&#1095;&#1085;&#1086; (&#1073;&#1086; DOM &#1091; &#1090;&#1077;&#1073;&#1077; &#1076;&#1080;&#1085;&#1072;&#1084;&#1110;&#1095;&#1085;&#1080;&#1081; &#1084;&#1110;&#1078; &#1084;&#1086;&#1076;&#1091;&#1083;&#1103;&#1084;&#1080;)</span></p><p class="c0"><span class="c1">&nbsp; polishPass();</span></p><p class="c0"><span class="c1">&nbsp; const __polishObserver = new MutationObserver(()=&gt;polishPass());</span></p><p class="c0"><span class="c1">&nbsp; __polishObserver.observe(root, { childList:true, subtree:true });</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">})();</span></p><p class="c0"><span class="c1">&lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;!-- GP:M15 END --&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p></body></html>